import{u as C,_ as D}from"./Bv4EkHaP.js";import{aV as I}from"./3ncfVO38.js";import{j as u,D as y,E,F,H as _,G as i,u as c}from"./DXHvmmg6.js";import"./BYTvHWBW.js";import"./CYxtEuKL.js";const N={class:"card drawer-wrappper"},R={class:"offcanvas-template"},B={class:"crud-page"},M={class:"crud-page-body"},j={class:""},O={class:"ant-drawer-content"},U={class:"ant-drawer-wrapper-body"},k={class:"ant-drawer-body"},P={__name:"edit",props:{title:String,icon:String,main_tab_title:String,grid:Number,form:Number,projects_id:Number,hideHeader:Boolean,hasSelection:Boolean,actions:String,dbClickAction:Function,onRowSelect:Function,rowCurrentChange:Function,permissions:Object,user_condition:Object,custom_condition:Object,view_url:String,mode:String,onPropertySuccess:Function,onPropertyError:Function,page_id:String,withoutHeader:Boolean,withCrudLog:Boolean,base_url:String,form_width:[Number,String],edit_id:[Number,String],CRUD_ID:[Number,String],template:String,parent:Object},setup(e){const{t:f}=I(),t=e,o=u(null),p=u(null),l=u(null);function g(){}const m=()=>{t.actions?(n.value=!0,o.value.editModel(t.actions)):l.value&&(n.value=!0,o.value.editModel(l.value))},v=(s,r)=>{console.log(t.actions),t.actions?(n.value=!0,o.value.editModel(t.actions)):b(s)};function h(){}const{editMode:n,url:w,onError:S}=C(t,o,p,g,m,h,f,t.CRUD_ID),b=s=>{if(t.user_condition&&t.user_condition.formCondition){const r=s.identity,d=t.user_condition.formCondition.findIndex(a=>a.form_field===r);if(d>=0){const a=t.user_condition.formCondition[d].user_field;window.init&&window.init.user&&window.init.user[a]&&(n.value=!0,r.value=window.init.user[a],o.value.editModel(r.value))}}};return(s,r)=>{const d=y("dataform");return F(),E("div",N,[_(c(D),{parent:e.parent,title:e.title,hideAction:!0,permissions:e.permissions,CRUD_ID:e.CRUD_ID},null,8,["parent","title","permissions","CRUD_ID"]),i("section",R,[i("div",B,[i("div",M,[i("div",j,[i("div",O,[i("div",U,[i("div",k,[_(d,{ref_key:"dataForm",ref:o,hideTitle:!0,schemaID:e.form,title:e.title,url:c(w),editMode:c(n),onSuccess:m,onReady:v,do_render:!0,permissions:e.permissions,page_id:e.page_id,user_condition:e.user_condition?e.user_condition.formCondition:null,onError:c(S)},null,8,["schemaID","title","url","editMode","permissions","page_id","user_condition","onError"])])])])])])])])])}}};export{P as default};
