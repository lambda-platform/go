import{b5 as c,b6 as p,h as b}from"./BGcy_aHF.js";const f=c(p),g=f.smaller("sm");f.between("sm","xl");f.greater("xl");const o=async(e,t,n,r)=>(await b.post(`${e}/lambda/krud${n}/${t}/${r?"filter-":""}options`,{})).data,h=async(e,t,n,r)=>{if(window.init)if(window.init.microserviceSettings)if(window.init.microserviceSettings.length>=1){let l={};for(const i of window.init.microserviceSettings){let d=s(r,i.project_id);if(Object.keys(d).length>=1){let u=await o(i.production_url,e,t,n);l={...l,...u}}}return l}else return await o("",e,t,n);else return await o("",e,t,n);else return await o("",e,t,n)},s=(e,t)=>{let n={};return e.forEach(r=>{if((r.formType==="Radio"||r.formType==="Select"||r.formType==="ISelect"||r.formType==="TreeSelect"||r.formType==="FooterButton")&&r.relation.table&&(r.relation.filter===""||typeof r.relation.filter>"u"?typeof n[r.relation.table]>"u"&&(t!==void 0?r.relation.microservice_id==t&&(n=a(r,n)):n=a(r,n)):typeof n[r.model]>"u"&&(t!==void 0?r.relation.microservice_id==t&&(n=a(r,n)):n=a(r,n))),r.formType==="AdminMenu"&&r.relation.table&&(n[r.relation.table]=r.relation),r.formType==="SubForm"&&r.schema){let l=s(r.schema,t);l&&(n={...n,...l})}}),n},a=(e,t,n)=>{if(e.relation.filterWithUser){if(e.relation.filterWithUser&&e.relation.filterWithUser.constructor===Array){let r="";e.relation.filterWithUser.forEach(l=>{let i=`${l.tableField} = '${window.init.user[l.userField]}'`;r==""?r=i:r=r+" AND "+i}),e.relation.filter===""||typeof e.relation.filter>"u"?e.relation.filter=r:e.relation.filter=`(${e.relation.filter}) AND (${r})`}else{let r=`${e.relation.filterWithUser.tableField} = '${window.init.user[e.relation.filterWithUser.userField]}'`;e.relation.filter===""||typeof e.relation.filter>"u"?e.relation.filter=r:e.relation.filter=e.relation.filter+" AND "+r}e.relation.filterWithUser=void 0}return e.relation.filter===""||typeof e.relation.filter>"u"?t[e.relation.table]=e.relation:t[e.model]=e.relation,t},S=(e,t)=>{let n=y(e.relation.table);return e.relation.filter===""||typeof e.relation.filter>"u"?t[e.relation.table]?t[e.relation.table]:t[n]?t[n]:e.relation.filterWithUser?t[e.model]?t[e.model]:[]:[]:t[e.model]?t[e.model]:t[e.relation.table]?t[e.relation.table]:t[n]?t[n]:[]};function y(e){if(e=e.trim(),e.includes(".")){const t=e.split(".");return t[t.length-1].trim()}return e}export{S as a,h as g,g as i};
