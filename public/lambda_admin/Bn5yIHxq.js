import{c as k}from"./Bp66CpTo.js";import{j as x,P as _e,p as le,v as w,D as $,E as G,F as q,G as m,L as ce,O as F,H as D,u as Z,I as ee,N as ye,M as Se,V as j}from"./DXHvmmg6.js";import{aH as ke,aI as b,aJ as Ie,aK as h,aL as De,aM as he,h as Ae,aN as Re}from"./3ncfVO38.js";function J(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?J=function(n){return typeof n}:J=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},J(r)}function Le(r){return J(r)=="object"&&r!==null}var Ee=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function ue(r,t){for(var n=/\r\n|[\n\r]/g,e=1,i=t+1,a;(a=n.exec(r.body))&&a.index<t;)e+=1,i=t+1-(a.index+a[0].length);return{line:e,column:i}}function Fe(r){return ge(r.source,ue(r.source,r.start))}function ge(r,t){var n=r.locationOffset.column-1,e=W(n)+r.body,i=t.line-1,a=r.locationOffset.line-1,s=t.line+a,o=t.line===1?n:0,c=t.column+o,u="".concat(r.name,":").concat(s,":").concat(c,`
`),E=e.split(/\r\n|[\n\r]/g),f=E[i];if(f.length>120){for(var _=Math.floor(c/80),v=c%80,O=[],N=0;N<f.length;N+=80)O.push(f.slice(N,N+80));return u+fe([["".concat(s),O[0]]].concat(O.slice(1,_+1).map(function(A){return["",A]}),[[" ",W(v-1)+"^"],["",O[_+1]]]))}return u+fe([["".concat(s-1),E[i-1]],["".concat(s),f],["",W(c-1)+"^"],["".concat(s+1),E[i+1]]])}function fe(r){var t=r.filter(function(e){e[0];var i=e[1];return i!==void 0}),n=Math.max.apply(Math,t.map(function(e){var i=e[0];return i.length}));return t.map(function(e){var i=e[0],a=e[1];return Ce(n,i)+(a?" | "+a:" |")}).join(`
`)}function W(r){return Array(r+1).join(" ")}function Ce(r,t){return W(r-t.length)+t}function z(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?z=function(n){return typeof n}:z=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},z(r)}function ve(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);t&&(e=e.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,e)}return n}function Pe(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ve(Object(n),!0).forEach(function(e){Me(r,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})}return r}function Me(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Be(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function je(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}function Ue(r,t,n){return t&&je(r.prototype,t),r}function Ve(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&K(r,t)}function $e(r){var t=Te();return function(){var e=Y(r),i;if(t){var a=Y(this).constructor;i=Reflect.construct(e,arguments,a)}else i=e.apply(this,arguments);return be(this,i)}}function be(r,t){return t&&(z(t)==="object"||typeof t=="function")?t:V(r)}function V(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function pe(r){var t=typeof Map=="function"?new Map:void 0;return pe=function(e){if(e===null||!Ge(e))return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return H(e,arguments,Y(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),K(i,e)},pe(r)}function H(r,t,n){return Te()?H=Reflect.construct:H=function(i,a,s){var o=[null];o.push.apply(o,a);var c=Function.bind.apply(i,o),u=new c;return s&&K(u,s.prototype),u},H.apply(null,arguments)}function Te(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Ge(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function K(r,t){return K=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e},K(r,t)}function Y(r){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Y(r)}var qe=function(r){Ve(n,r);var t=$e(n);function n(e,i,a,s,o,c,u){var E,f,_,v;Be(this,n),v=t.call(this,e),v.name="GraphQLError",v.originalError=c??void 0,v.nodes=me(Array.isArray(i)?i:i?[i]:void 0);for(var O=[],N=0,A=(I=v.nodes)!==null&&I!==void 0?I:[];N<A.length;N++){var I,re=A[N],P=re.loc;P!=null&&O.push(P)}O=me(O),v.source=a??((E=O)===null||E===void 0?void 0:E[0].source),v.positions=s??((f=O)===null||f===void 0?void 0:f.map(function(R){return R.start})),v.locations=s&&a?s.map(function(R){return ue(a,R)}):(_=O)===null||_===void 0?void 0:_.map(function(R){return ue(R.source,R.start)}),v.path=o??void 0;var M=c==null?void 0:c.extensions;return u==null&&Le(M)?v.extensions=Pe({},M):v.extensions=u??{},Object.defineProperties(V(v),{message:{enumerable:!0},locations:{enumerable:v.locations!=null},path:{enumerable:v.path!=null},extensions:{enumerable:v.extensions!=null&&Object.keys(v.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?(Object.defineProperty(V(v),"stack",{value:c.stack,writable:!0,configurable:!0}),be(v)):(Error.captureStackTrace?Error.captureStackTrace(V(v),n):Object.defineProperty(V(v),"stack",{value:Error().stack,writable:!0,configurable:!0}),v)}return Ue(n,[{key:"toString",value:function(){return Ke(this)}},{key:Ee,get:function(){return"Object"}}]),n}(pe(Error));function me(r){return r===void 0||r.length===0?void 0:r}function Ke(r){var t=r.message;if(r.nodes)for(var n=0,e=r.nodes;n<e.length;n++){var i=e[n];i.loc&&(t+=`

`+Fe(i.loc))}else if(r.source&&r.locations)for(var a=0,s=r.locations;a<s.length;a++){var o=s[a];t+=`

`+ge(r.source,o)}return t}function S(r,t,n){return new qe("Syntax Error: ".concat(n),void 0,r,[t])}var l=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function ae(r,t){var n=!!r;if(!n)throw new Error(t)}const Ye=function(t,n){return t instanceof n};function Qe(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}function Je(r,t,n){return t&&Qe(r.prototype,t),r}var Oe=function(){function r(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof t=="string"||ae(0,"Body must be a string. Received: ".concat(ke(t),".")),this.body=t,this.name=n,this.locationOffset=e,this.locationOffset.line>0||ae(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||ae(0,"column in locationOffset is 1-indexed and must be positive.")}return Je(r,[{key:Ee,get:function(){return"Source"}}]),r}();function We(r){return Ye(r,Oe)}var ze=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),He=function(){function r(n){var e=new b(l.SOF,0,0,0,0,null);this.source=n,this.lastToken=e,this.token=e,this.line=1,this.lineStart=0}var t=r.prototype;return t.advance=function(){this.lastToken=this.token;var e=this.token=this.lookahead();return e},t.lookahead=function(){var e=this.token;if(e.kind!==l.EOF)do{var i;e=(i=e.next)!==null&&i!==void 0?i:e.next=Ze(this,e)}while(e.kind===l.COMMENT);return e},r}();function Xe(r){return r===l.BANG||r===l.DOLLAR||r===l.AMP||r===l.PAREN_L||r===l.PAREN_R||r===l.SPREAD||r===l.COLON||r===l.EQUALS||r===l.AT||r===l.BRACKET_L||r===l.BRACKET_R||r===l.BRACE_L||r===l.PIPE||r===l.BRACE_R}function C(r){return isNaN(r)?l.EOF:r<127?JSON.stringify(String.fromCharCode(r)):'"\\u'.concat(("00"+r.toString(16).toUpperCase()).slice(-4),'"')}function Ze(r,t){for(var n=r.source,e=n.body,i=e.length,a=t.end;a<i;){var s=e.charCodeAt(a),o=r.line,c=1+a-r.lineStart;switch(s){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++r.line,r.lineStart=a;continue;case 13:e.charCodeAt(a+1)===10?a+=2:++a,++r.line,r.lineStart=a;continue;case 33:return new b(l.BANG,a,a+1,o,c,t);case 35:return tt(n,a,o,c,t);case 36:return new b(l.DOLLAR,a,a+1,o,c,t);case 38:return new b(l.AMP,a,a+1,o,c,t);case 40:return new b(l.PAREN_L,a,a+1,o,c,t);case 41:return new b(l.PAREN_R,a,a+1,o,c,t);case 46:if(e.charCodeAt(a+1)===46&&e.charCodeAt(a+2)===46)return new b(l.SPREAD,a,a+3,o,c,t);break;case 58:return new b(l.COLON,a,a+1,o,c,t);case 61:return new b(l.EQUALS,a,a+1,o,c,t);case 64:return new b(l.AT,a,a+1,o,c,t);case 91:return new b(l.BRACKET_L,a,a+1,o,c,t);case 93:return new b(l.BRACKET_R,a,a+1,o,c,t);case 123:return new b(l.BRACE_L,a,a+1,o,c,t);case 124:return new b(l.PIPE,a,a+1,o,c,t);case 125:return new b(l.BRACE_R,a,a+1,o,c,t);case 34:return e.charCodeAt(a+1)===34&&e.charCodeAt(a+2)===34?it(n,a,o,c,t,r):nt(n,a,o,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return rt(n,a,s,o,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return st(n,a,o,c,t)}throw S(n,a,et(s))}var u=r.line,E=1+a-r.lineStart;return new b(l.EOF,i,i,u,E,t)}function et(r){return r<32&&r!==9&&r!==10&&r!==13?"Cannot contain the invalid character ".concat(C(r),"."):r===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(C(r),".")}function tt(r,t,n,e,i){var a=r.body,s,o=t;do s=a.charCodeAt(++o);while(!isNaN(s)&&(s>31||s===9));return new b(l.COMMENT,t,o,n,e,i,a.slice(t+1,o))}function rt(r,t,n,e,i,a){var s=r.body,o=n,c=t,u=!1;if(o===45&&(o=s.charCodeAt(++c)),o===48){if(o=s.charCodeAt(++c),o>=48&&o<=57)throw S(r,c,"Invalid number, unexpected digit after 0: ".concat(C(o),"."))}else c=se(r,c,o),o=s.charCodeAt(c);if(o===46&&(u=!0,o=s.charCodeAt(++c),c=se(r,c,o),o=s.charCodeAt(c)),(o===69||o===101)&&(u=!0,o=s.charCodeAt(++c),(o===43||o===45)&&(o=s.charCodeAt(++c)),c=se(r,c,o),o=s.charCodeAt(c)),o===46||ot(o))throw S(r,c,"Invalid number, expected digit but got: ".concat(C(o),"."));return new b(u?l.FLOAT:l.INT,t,c,e,i,a,s.slice(t,c))}function se(r,t,n){var e=r.body,i=t,a=n;if(a>=48&&a<=57){do a=e.charCodeAt(++i);while(a>=48&&a<=57);return i}throw S(r,i,"Invalid number, expected digit but got: ".concat(C(a),"."))}function nt(r,t,n,e,i){for(var a=r.body,s=t+1,o=s,c=0,u="";s<a.length&&!isNaN(c=a.charCodeAt(s))&&c!==10&&c!==13;){if(c===34)return u+=a.slice(o,s),new b(l.STRING,t,s+1,n,e,i,u);if(c<32&&c!==9)throw S(r,s,"Invalid character within String: ".concat(C(c),"."));if(++s,c===92){switch(u+=a.slice(o,s-1),c=a.charCodeAt(s),c){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:{var E=at(a.charCodeAt(s+1),a.charCodeAt(s+2),a.charCodeAt(s+3),a.charCodeAt(s+4));if(E<0){var f=a.slice(s+1,s+5);throw S(r,s,"Invalid character escape sequence: \\u".concat(f,"."))}u+=String.fromCharCode(E),s+=4;break}default:throw S(r,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}++s,o=s}}throw S(r,s,"Unterminated string.")}function it(r,t,n,e,i,a){for(var s=r.body,o=t+3,c=o,u=0,E="";o<s.length&&!isNaN(u=s.charCodeAt(o));){if(u===34&&s.charCodeAt(o+1)===34&&s.charCodeAt(o+2)===34)return E+=s.slice(c,o),new b(l.BLOCK_STRING,t,o+3,n,e,i,Ie(E));if(u<32&&u!==9&&u!==10&&u!==13)throw S(r,o,"Invalid character within String: ".concat(C(u),"."));u===10?(++o,++a.line,a.lineStart=o):u===13?(s.charCodeAt(o+1)===10?o+=2:++o,++a.line,a.lineStart=o):u===92&&s.charCodeAt(o+1)===34&&s.charCodeAt(o+2)===34&&s.charCodeAt(o+3)===34?(E+=s.slice(c,o)+'"""',o+=4,c=o):++o}throw S(r,o,"Unterminated string.")}function at(r,t,n,e){return Q(r)<<12|Q(t)<<8|Q(n)<<4|Q(e)}function Q(r){return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:-1}function st(r,t,n,e,i){for(var a=r.body,s=a.length,o=t+1,c=0;o!==s&&!isNaN(c=a.charCodeAt(o))&&(c===95||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++o;return new b(l.NAME,t,o,n,e,i,a.slice(t,o))}function ot(r){return r===95||r>=65&&r<=90||r>=97&&r<=122}function lt(r,t){var n=new ct(r,t);return n.parseDocument()}var ct=function(){function r(n,e){var i=We(n)?n:new Oe(n);this._lexer=new He(i),this._options=e}var t=r.prototype;return t.parseName=function(){var e=this.expectToken(l.NAME);return{kind:h.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:h.DOCUMENT,definitions:this.many(l.SOF,this.parseDefinition,l.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(l.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(l.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(l.BRACE_L))return{kind:h.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var i=this.parseOperationType(),a;return this.peek(l.NAME)&&(a=this.parseName()),{kind:h.OPERATION_DEFINITION,operation:i,name:a,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(l.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(l.PAREN_L,this.parseVariableDefinition,l.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:h.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(l.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(l.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(l.DOLLAR),{kind:h.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:h.SELECTION_SET,selections:this.many(l.BRACE_L,this.parseSelection,l.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(l.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e=this._lexer.token,i=this.parseName(),a,s;return this.expectOptionalToken(l.COLON)?(a=i,s=this.parseName()):s=i,{kind:h.FIELD,alias:a,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(l.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(e)}},t.parseArguments=function(e){var i=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(l.PAREN_L,i,l.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,i=this.parseName();return this.expectToken(l.COLON),{kind:h.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:h.ARGUMENT,name:this.parseName(),value:(this.expectToken(l.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(l.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(l.NAME)?{kind:h.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:h.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,i=this._lexer.token;return this.expectKeyword("fragment"),((e=this._options)===null||e===void 0?void 0:e.experimentalFragmentVariables)===!0?{kind:h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},t.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var i=this._lexer.token;switch(i.kind){case l.BRACKET_L:return this.parseList(e);case l.BRACE_L:return this.parseObject(e);case l.INT:return this._lexer.advance(),{kind:h.INT,value:i.value,loc:this.loc(i)};case l.FLOAT:return this._lexer.advance(),{kind:h.FLOAT,value:i.value,loc:this.loc(i)};case l.STRING:case l.BLOCK_STRING:return this.parseStringLiteral();case l.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:h.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:h.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:h.NULL,loc:this.loc(i)};default:return{kind:h.ENUM,value:i.value,loc:this.loc(i)}}case l.DOLLAR:if(!e)return this.parseVariable();break}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:h.STRING,value:e.value,block:e.kind===l.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var i=this,a=this._lexer.token,s=function(){return i.parseValueLiteral(e)};return{kind:h.LIST,values:this.any(l.BRACKET_L,s,l.BRACKET_R),loc:this.loc(a)}},t.parseObject=function(e){var i=this,a=this._lexer.token,s=function(){return i.parseObjectField(e)};return{kind:h.OBJECT,fields:this.any(l.BRACE_L,s,l.BRACE_R),loc:this.loc(a)}},t.parseObjectField=function(e){var i=this._lexer.token,a=this.parseName();return this.expectToken(l.COLON),{kind:h.OBJECT_FIELD,name:a,value:this.parseValueLiteral(e),loc:this.loc(i)}},t.parseDirectives=function(e){for(var i=[];this.peek(l.AT);)i.push(this.parseDirective(e));return i},t.parseDirective=function(e){var i=this._lexer.token;return this.expectToken(l.AT),{kind:h.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(i)}},t.parseTypeReference=function(){var e=this._lexer.token,i;return this.expectOptionalToken(l.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(l.BRACKET_R),i={kind:h.LIST_TYPE,type:i,loc:this.loc(e)}):i=this.parseNamedType(),this.expectOptionalToken(l.BANG)?{kind:h.NON_NULL_TYPE,type:i,loc:this.loc(e)}:i},t.parseNamedType=function(){var e=this._lexer.token;return{kind:h.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===l.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(l.STRING)||this.peek(l.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var a=this.parseDirectives(!0),s=this.many(l.BRACE_L,this.parseOperationTypeDefinition,l.BRACE_R);return{kind:h.SCHEMA_DEFINITION,description:i,directives:a,operationTypes:s,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,i=this.parseOperationType();this.expectToken(l.COLON);var a=this.parseNamedType();return{kind:h.OPERATION_TYPE_DEFINITION,operation:i,type:a,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var a=this.parseName(),s=this.parseDirectives(!0);return{kind:h.SCALAR_TYPE_DEFINITION,description:i,name:a,directives:s,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:h.OBJECT_TYPE_DEFINITION,description:i,name:a,interfaces:s,directives:o,fields:c,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(((e=this._options)===null||e===void 0?void 0:e.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(l.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(l.AMP)||this.peek(l.NAME));return i}return this.delimitedMany(l.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return((e=this._options)===null||e===void 0?void 0:e.allowLegacySDLEmptyFields)===!0&&this.peek(l.BRACE_L)&&this._lexer.lookahead().kind===l.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(l.BRACE_L,this.parseFieldDefinition,l.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,i=this.parseDescription(),a=this.parseName(),s=this.parseArgumentDefs();this.expectToken(l.COLON);var o=this.parseTypeReference(),c=this.parseDirectives(!0);return{kind:h.FIELD_DEFINITION,description:i,name:a,arguments:s,type:o,directives:c,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(l.PAREN_L,this.parseInputValueDef,l.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,i=this.parseDescription(),a=this.parseName();this.expectToken(l.COLON);var s=this.parseTypeReference(),o;this.expectOptionalToken(l.EQUALS)&&(o=this.parseValueLiteral(!0));var c=this.parseDirectives(!0);return{kind:h.INPUT_VALUE_DEFINITION,description:i,name:a,type:s,defaultValue:o,directives:c,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:h.INTERFACE_TYPE_DEFINITION,description:i,name:a,interfaces:s,directives:o,fields:c,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseUnionMemberTypes();return{kind:h.UNION_TYPE_DEFINITION,description:i,name:a,directives:s,types:o,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(l.EQUALS)?this.delimitedMany(l.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();return{kind:h.ENUM_TYPE_DEFINITION,description:i,name:a,directives:s,values:o,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(l.BRACE_L,this.parseEnumValueDefinition,l.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,i=this.parseDescription(),a=this.parseName(),s=this.parseDirectives(!0);return{kind:h.ENUM_VALUE_DEFINITION,description:i,name:a,directives:s,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();return{kind:h.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:a,directives:s,fields:o,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(l.BRACE_L,this.parseInputValueDef,l.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===l.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),a=this.optionalMany(l.BRACE_L,this.parseOperationTypeDefinition,l.BRACE_R);if(i.length===0&&a.length===0)throw this.unexpected();return{kind:h.SCHEMA_EXTENSION,directives:i,operationTypes:a,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),a=this.parseDirectives(!0);if(a.length===0)throw this.unexpected();return{kind:h.SCALAR_TYPE_EXTENSION,name:i,directives:a,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(a.length===0&&s.length===0&&o.length===0)throw this.unexpected();return{kind:h.OBJECT_TYPE_EXTENSION,name:i,interfaces:a,directives:s,fields:o,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(a.length===0&&s.length===0&&o.length===0)throw this.unexpected();return{kind:h.INTERFACE_TYPE_EXTENSION,name:i,interfaces:a,directives:s,fields:o,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),a=this.parseDirectives(!0),s=this.parseUnionMemberTypes();if(a.length===0&&s.length===0)throw this.unexpected();return{kind:h.UNION_TYPE_EXTENSION,name:i,directives:a,types:s,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),a=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();if(a.length===0&&s.length===0)throw this.unexpected();return{kind:h.ENUM_TYPE_EXTENSION,name:i,directives:a,values:s,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),a=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();if(a.length===0&&s.length===0)throw this.unexpected();return{kind:h.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:a,fields:s,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(l.AT);var a=this.parseName(),s=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var c=this.parseDirectiveLocations();return{kind:h.DIRECTIVE_DEFINITION,description:i,name:a,arguments:s,repeatable:o,locations:c,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(l.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,i=this.parseName();if(ze[i.value]!==void 0)return i;throw this.unexpected(e)},t.loc=function(e){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new De(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var i=this._lexer.token;if(i.kind===e)return this._lexer.advance(),i;throw S(this._lexer.source,i.start,"Expected ".concat(Ne(e),", found ").concat(oe(i),"."))},t.expectOptionalToken=function(e){var i=this._lexer.token;if(i.kind===e)return this._lexer.advance(),i},t.expectKeyword=function(e){var i=this._lexer.token;if(i.kind===l.NAME&&i.value===e)this._lexer.advance();else throw S(this._lexer.source,i.start,'Expected "'.concat(e,'", found ').concat(oe(i),"."))},t.expectOptionalKeyword=function(e){var i=this._lexer.token;return i.kind===l.NAME&&i.value===e?(this._lexer.advance(),!0):!1},t.unexpected=function(e){var i=e??this._lexer.token;return S(this._lexer.source,i.start,"Unexpected ".concat(oe(i),"."))},t.any=function(e,i,a){this.expectToken(e);for(var s=[];!this.expectOptionalToken(a);)s.push(i.call(this));return s},t.optionalMany=function(e,i,a){if(this.expectOptionalToken(e)){var s=[];do s.push(i.call(this));while(!this.expectOptionalToken(a));return s}return[]},t.many=function(e,i,a){this.expectToken(e);var s=[];do s.push(i.call(this));while(!this.expectOptionalToken(a));return s},t.delimitedMany=function(e,i){this.expectOptionalToken(e);var a=[];do a.push(i.call(this));while(this.expectOptionalToken(e));return a},r}();function oe(r){var t=r.value;return Ne(r.kind)+(t!=null?' "'.concat(t,'"'):"")}function Ne(r){return Xe(r)?'"'.concat(r,'"'):r}var X=new Map,de=new Map,we=!0,te=!1;function xe(r){return r.replace(/[\s,]+/g," ").trim()}function ut(r){return xe(r.source.body.substring(r.start,r.end))}function pt(r){var t=new Set,n=[];return r.definitions.forEach(function(e){if(e.kind==="FragmentDefinition"){var i=e.name.value,a=ut(e.loc),s=de.get(i);s&&!s.has(a)?we&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||de.set(i,s=new Set),s.add(a),t.has(a)||(t.add(a),n.push(e))}else n.push(e)}),he(he({},r),{definitions:n})}function dt(r){var t=new Set(r.definitions);t.forEach(function(e){e.loc&&delete e.loc,Object.keys(e).forEach(function(i){var a=e[i];a&&typeof a=="object"&&t.add(a)})});var n=r.loc;return n&&(delete n.startToken,delete n.endToken),r}function ht(r){var t=xe(r);if(!X.has(t)){var n=lt(r,{experimentalFragmentVariables:te,allowLegacyFragmentVariables:te});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");X.set(t,dt(pt(n)))}return X.get(t)}function T(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];typeof r=="string"&&(r=[r]);var e=r[0];return t.forEach(function(i,a){i&&i.kind==="Document"?e+=i.loc.source.body:e+=i,e+=r[a+1]}),ht(e)}function ft(){X.clear(),de.clear()}function vt(){we=!1}function mt(){te=!0}function _t(){te=!1}var U={gql:T,resetCaches:ft,disableFragmentWarnings:vt,enableExperimentalFragmentVariables:mt,disableExperimentalFragmentVariables:_t};(function(r){r.gql=U.gql,r.resetCaches=U.resetCaches,r.disableFragmentWarnings=U.disableFragmentWarnings,r.enableExperimentalFragmentVariables=U.enableExperimentalFragmentVariables,r.disableExperimentalFragmentVariables=U.disableExperimentalFragmentVariables})(T||(T={}));T.default=T;const yt=T`
  {
    view_roles {
      id
      display_name
    }
  }
`,Et=T`
query GetUsersByRole($role_id: String!){
  view_users(filters:[{column:"role", condition:equals, value:$role_id}]){
    id
    last_name
    first_name
    avatar
  }
}`;T`
query paginate($sorts: [sort], $filters: [filter], $page: Int!, $size: Int!) {
  paginate(
    sorts: $sorts,
    filters: $filters,
    page: $page
    size: $size
  ) {
    page
    total
    last_page
    view_announcement {
      id
      begin_date
      end_date
      otor_region_id
      otor_year_id
      otor_year
      date
      total_capacity
      is_water_resource_exceed
      water_resource_capacity
      is_skip
      partially_skipping_area
      available_area
      name
      photo
    }
  }
}
`;T`
query ViewAnnouncement($sorts: [sort], $limit: Int){
  view_announcement(
    sorts: $sorts, limit: $limit
  ){
    id
    begin_date
    end_date
    otor_year_id
    otor_year
    date
    total_capacity
    is_water_resource_exceed
    water_resource_capacity
    is_skip
    partially_skipping_area
    available_area
    otor_year
    name
    photo
  }
}
`;T`
query lutOtorYear{
  lut_otor_year{
    id
    otor_year
  }
}
`;T`
query lutOtorRegion{
  otor_region{
    id
    name
  }
}
`;async function gt(){try{const{data:r,errors:t}=await k.query({query:yt});if(t&&t.length)throw console.error("GraphQL Errors:",t.map(n=>n.message).join(", ")),new Error(`Failed to fetch POS data: ${t[0].message}`);return r}catch(r){throw console.error("Failed to fetch POS data:",r),r}}async function bt(r){try{const{data:t,errors:n}=await k.query({query:Et,variables:{role_id:r}});if(n&&n.length)throw console.error("GraphQL Errors:",n.map(e=>e.message).join(", ")),new Error(`Failed to fetch POS data: ${n[0].message}`);return t}catch(t){throw console.error("Failed to fetch POS data:",t),t}}const Tt={class:"mb-2"},Ot={key:0},Nt={class:"flex items-center space-x-3 font-semibold"},wt={class:"flex items-center justify-center h-full w-full"},xt=["src"],Kt={__name:"RoleUserSelector",props:{role_id:Number,user_id:String,hideUserSelect:Boolean,disabled:Boolean},emits:["update:role_id","update:user_id","change"],setup(r,{emit:t}){const n=t,e=r,i=x(null),a=x(""),s=x([]),o=x([]);_e(()=>{gt().then(({view_roles:f})=>{s.value=f,e.role_id&&(i.value=e.role_id,c()),e.user_id&&(a.value=e.user_id)})});async function c(){a.value="",i.value?bt(i.value.toString()).then(({view_users:f})=>{o.value=f}):o.value=[]}const u=le(()=>s.value.map(f=>({value:f.id,label:f.display_name,searchValue:`${f.display_name} ${f.name}`}))),E=le(()=>o.value.map(f=>({value:f.id,label:f.first_name,searchValue:`${f.first_name} ${f.last_name}`,avatar:f.avatar})));return w(()=>e.role_id,f=>{i.value=f}),w(()=>e.user_id,f=>{a.value=f}),w(i,(f,_)=>{n("update:role_id",f),n("change",{role_id:f,user_id:a.value})}),w(a,(f,_)=>{n("update:user_id",f),n("change",{role_id:i.value,user_id:f})}),(f,_)=>{const v=$("a-select"),O=$("a-avatar");return q(),G(Se,null,[m("div",Tt,[m("label",null,[_[2]||(_[2]=F(" Хандах эрх")),_[3]||(_[3]=m("br",null,null,-1)),D(v,{value:i.value,"onUpdate:value":_[0]||(_[0]=N=>i.value=N),"show-search":"",style:{width:"100%"},placeholder:"Хандах эрх",optionFilterProp:"searchValue",optionLabelProp:"label",options:Z(u),onChange:c,disabled:r.disabled,"allow-clear":""},null,8,["value","options","disabled"])])]),r.hideUserSelect?ce("",!0):(q(),G("div",Ot,[m("label",null,[_[4]||(_[4]=F(" Хэрэглэгч ")),_[5]||(_[5]=m("br",null,null,-1)),D(v,{value:a.value,"onUpdate:value":_[1]||(_[1]=N=>a.value=N),"show-search":"",style:{width:"100%"},placeholder:"Ажилтан сонгох",optionFilterProp:"searchValue",optionLabelProp:"label",options:Z(E),disabled:r.disabled,"allow-clear":""},{option:ee(({value:N,label:A,avatar:I})=>[m("div",Nt,[D(O,{style:{width:"32px",height:"32px",flex:"none"}},{icon:ee(()=>[m("div",wt,[m("img",{alt:"avatar",class:"h-full w-full object-cover bg-no-repeat bg-center",src:I!==null&&I!==""?f.$base_url+I:f.$base_url+"/assets/icons/defaultAvatar.svg"},null,8,xt)])]),_:2},1024),m("span",null,ye(A),1)])]),_:1},8,["value","options","disabled"])])]))],64)}}},St=T`
query GET_USER($filters: [filter]){
  view_users(filters: $filters){
    id
    last_name
    first_name
    display_name
    phone
    email
    avatar
  }
}`,kt=T`
query GET_WORK_FLOW_BY_CATEGORY($filters: [filter], $limit: Int, $sorts: [sort]) {
  view_workflow(filters: $filters, limit: $limit, sorts: $sorts) {
    id
    flow_name
    flow_data
    description
    created_at
    category_id
    workflow_voting_people {
      subject_type,
      user_id,
      role_id,
      org_role_id,
      org_id,
      struct_id,
      job_id,
      emp_id
    }
  }
}`,It=T`
query GET_WORK_FLOW_BY_ID($filters: [filter]) {
  view_workflow(filters: $filters) {
    id
    flow_name
    flow_data
    description
    created_at
    category_id
    workflow_voting_people {
      subject_type,
      user_id,
      role_id,
      org_role_id,
      org_id,
      struct_id,
      job_id,
      emp_id
    }
  }
}`,Dt=T`
query EmploySearch($struct_id: String!){
  view_employee(filters:[{column:"struct_id", condition:equals, value:$struct_id}]){
    id
    first_name
    last_name
    avatar
    user_id
  }
}
  `,At=T`
query JobSearch($struct_id: String!){
  view_job(filters:[{column:"struct_id", condition:equals, value:$struct_id}]){
    id
    job
  }
}
  `,Rt=T`
query EmploySearch($job_id: String!){
  view_employee(filters:[{column:"job_id", condition:equals, value:$job_id}]){
    id
    first_name
    last_name

  }
}
  `;T`
query Vw_userstruct($filters: [filter]) {
  vw_userstruct(filters: $filters) {
    LNAME
    JOB_LEVEL
    JOB_NAME
    STRUCT_NAME
    FNAME
    EMP_ID
    PHONE_MOBILE
    MIAT_EMAIL
    EMP_EMAIL
  }
}`;const Lt=T`
query StructSearch($name: String!, $org_id: String!) {
  view_struct(
    sorts: [{column: "struct", order: asc}]
    filters: [{column: "struct", condition: contains, value: $name}, {column: "org_id", condition: equals, value: $org_id}]
  ) {
    id
    org_id
    struct
    parent_struct_id
  }
}`,Ft=T`
query StructSearch($roleID: String!, $orgID : String!) {
  view_organizations(
     filters: [{column: "org_type_id", condition: equals, value: $roleID}, {column: "id", condition: equals, value: $orgID}],
    sorts:[{column:"organization", order:asc}]){
    id
    organization
    org_cover
    org_logo
    phone_one
    register
  }
}`;async function Yt(r){try{const{data:t,errors:n}=await k.query({query:St,variables:{filters:[{column:"id",condition:"equals",value:r.toString()}]}});if(n&&n.length)throw console.error("GraphQL Errors:",n.map(e=>e.message).join(", ")),new Error(`Failed to fetch POS data: ${n[0].message}`);return t}catch(t){throw console.error("Failed to fetch POS data:",t),t}}async function Qt(r){try{const{data:t,errors:n}=await k.query({query:kt,variables:{filters:[{column:"category_id",condition:"equals",value:r}],limit:1,sorts:[{column:"created_at",order:"desc"}]}});if(n&&n.length)throw console.error("GraphQL Errors:",n.map(e=>e.message).join(", ")),new Error(`Failed to fetch POS data: ${n[0].message}`);return t}catch(t){throw console.error("Failed to fetch POS data:",t),t}}async function Jt(r){try{const{data:t,errors:n}=await k.query({query:It,variables:{filters:[{column:"id",condition:"equals",value:r}]}});if(n&&n.length)throw console.error("GraphQL Errors:",n.map(e=>e.message).join(", ")),new Error(`Failed to fetch POS data: ${n[0].message}`);return t}catch(t){throw console.error("Failed to fetch POS data:",t),t}}async function Wt(r){try{const{data:t,errors:n}=await k.query({query:Dt,variables:{struct_id:r}});if(n&&n.length)throw console.error("GraphQL Errors:",n.map(e=>e.message).join(", ")),new Error(`Failed to fetch POS data: ${n[0].message}`);return t}catch(t){throw console.error("Failed to fetch POS data:",t),t}}async function Ct(r){try{const{data:t,errors:n}=await k.query({query:At,variables:{struct_id:r}});if(n&&n.length)throw console.error("GraphQL Errors:",n.map(e=>e.message).join(", ")),new Error(`Failed to fetch POS data: ${n[0].message}`);return t}catch(t){throw console.error("Failed to fetch POS data:",t),t}}async function Pt(r){try{const{data:t,errors:n}=await k.query({query:Rt,variables:{job_id:r}});if(n&&n.length)throw console.error("GraphQL Errors:",n.map(e=>e.message).join(", ")),new Error(`Failed to fetch POS data: ${n[0].message}`);return t}catch(t){throw console.error("Failed to fetch POS data:",t),t}}async function Mt(r,t){try{const{data:n,errors:e}=await k.query({query:Ft,variables:{roleID:r,orgID:t}});if(e&&e.length)throw console.error("GraphQL Errors:",e.map(i=>i.message).join(", ")),new Error(`Failed to fetch POS data: ${e[0].message}`);return n}catch(n){throw console.error("Failed to fetch POS data:",n),n}}async function Bt(r,t){try{const{data:n,errors:e}=await k.query({query:Lt,variables:{name:r,org_id:t}});if(e&&e.length)throw console.error("GraphQL Errors:",e.map(i=>i.message).join(", ")),new Error(`Failed to fetch POS data: ${e[0].message}`);return n}catch(n){throw console.error("Failed to fetch POS data:",n),n}}const zt=async r=>{try{return(await Ae.get(`/workflow/workflows/${r}`)).data.map(n=>({...n,value:n.id,label:n.flow_name}))}catch(t){throw console.error("Error fetching workflows:",t),t}},jt={class:"flex items-center space-x-3 font-semibold"},Ut={class:"flex items-center justify-center h-full w-full"},Vt=["src"],Ht={__name:"OrgStructEmployeeSelector",props:{org_role_id:Number,org_id:Number,struct_id:String,job_id:String,emp_id:String,mode:String,isHorizontal:Boolean,disabled:Boolean},emits:["update:struct_id","update:emp_id","change"],setup(r,{emit:t}){const n=t,e=Re.value.map(d=>({value:d.id,label:d.display_name})),i=r,a=x(null),s=x(null),o=x(null),c=x(null),u=x(null),E=x([]),f=x([]),_=x([]),v=x([]);function O(d){Mt(d.toString()).then(({view_org:p})=>{E.value=p.map(y=>({value:y.id,label:y.baiguullaga_ner,searchValue:`${y.baiguullaga_ner} ${y.utas_one} ${y.baiguullaga_register}`})),s.value&&N(s.value)})}function N(d){Bt("",d).then(({view_struct:y})=>{i.struct_id&&(o.value=i.struct_id,P()),i.emp_id&&(u.value=i.emp_id),I(y)})}function A(){o.value=null,c.value=null,u.value=null,N(s.value)}function I(d){let p={},y,L=[];const B=d.map(g=>({key:g.id,value:g.id,label:g.struct,parent1:g.parent_struct_id,children:[]}));B.forEach((g,ne)=>p[g.key]=ne),B.forEach(g=>{y=g,y.parent1!==0&&p[y.parent1]!==void 0?B[p[y.parent1]].children.push(y):L.push(y)}),f.value=L}function re(d){return d.reduce((y,L)=>y.find(g=>g.emp_id===L.emp_id)?y:y.concat([L]),[])}async function P(){o.value?Ct(o.value.toString()).then(({view_job:d})=>{_.value=d.map(p=>({value:p.id,label:p.job,searchValue:p.job})),c.value&&M()}):_.value=[]}async function M(){c.value?Pt(c.value.toString()).then(({view_employee:d})=>{v.value=d.map(p=>({id:p.id,emp_id:p.id,lastname:p.last_name,firstname:p.first_name,avatar:p.avatar,...p}))}):v.value=[]}const R=le(()=>re(v.value).map(d=>({value:d.id,emp_id:d.id,avatar:d.avatar,label:d.firstname,searchValue:`${d.firstname} ${d.lastname}`,firstname:d.firstname,lastname:d.lastname})));return w(()=>i.org_role_id,d=>{a.value=d,d&&O(d)}),w(()=>i.org_id,d=>{s.value=d,d&&P()}),w(()=>i.struct_id,d=>{o.value=d,d&&M()}),w(()=>i.job_id,d=>{c.value=d}),w(()=>i.emp_id,d=>{u.value=d}),w(a,(d,p)=>{n("update:org_role_id",d),n("change",{org_role_id:d,org_id:s,struct_id:o.value,job_id:c.value,emp_id:u.value})}),w(s,(d,p)=>{n("update:org_id",d),n("change",{org_role_id:a,org_id:d,struct_id:o.value,job_id:c.value,emp_id:u.value})}),w(o,(d,p)=>{n("update:struct_id",d),n("change",{org_role_id:a,org_id:s.value,struct_id:d,job_id:c.value,emp_id:u.value})}),w(c,(d,p)=>{n("update:job_id",d),n("change",{org_role_id:a,org_id:s.value,struct_id:o.value,job_id:d,emp_id:u.value})}),w(u,(d,p)=>{n("update:emp_id",d),n("change",{org_role_id:a,org_id:s.value,struct_id:o.value,job_id:c.value,emp_id:d})}),_e(()=>{i.org_role_id&&(a.value=i.org_role_id,O(i.org_role_id)),i.org_id&&(s.value=i.org_id),i.struct_id&&(o.value=i.struct_id),i.job_id&&(c.value=i.job_id),i.emp_id&&(u.value=i.emp_id)}),(d,p)=>{const y=$("a-select"),L=$("a-tree-select"),B=$("a-avatar");return q(),G("div",{class:j(r.isHorizontal?"flex justify-between w-full":"")},[m("div",{class:j(r.isHorizontal?"mb-2 mr-2":"mb-2 mr-2 w-full")},[m("label",null,[p[5]||(p[5]=F(" Байгууллага төрөл")),p[6]||(p[6]=m("br",null,null,-1)),D(y,{value:a.value,"onUpdate:value":p[0]||(p[0]=g=>a.value=g),"show-search":"",style:{width:"100%"},placeholder:"Байгууллага",optionFilterProp:"searchValue",optionLabelProp:"label",options:Z(e),onChange:O,"allow-clear":"",disabled:r.disabled},null,8,["value","options","disabled"])])],2),m("div",{class:j(r.isHorizontal?"mb-2 mr-2":"mb-2 mr-2 w-full")},[m("label",null,[p[7]||(p[7]=F(" Байгууллага")),p[8]||(p[8]=m("br",null,null,-1)),D(y,{value:s.value,"onUpdate:value":p[1]||(p[1]=g=>s.value=g),"show-search":"",style:{width:"100%"},placeholder:"Байгууллага",optionFilterProp:"searchValue",optionLabelProp:"label",options:E.value,onChange:A,"allow-clear":"",disabled:r.disabled},null,8,["value","options","disabled"])])],2),m("div",{class:j(r.isHorizontal?"mb-2 mr-2":"mb-2 mr-2 w-full")},[m("label",null,[p[9]||(p[9]=F(" Алба хэлтэс ")),p[10]||(p[10]=m("br",null,null,-1)),D(L,{value:o.value,"onUpdate:value":p[2]||(p[2]=g=>o.value=g),placeholder:"Алба хэлтэс сонгох",style:{width:"100%"},"tree-data":f.value,onChange:P,"tree-node-filter-prop":"label",dropdownMatchSelectWidth:!1,"tree-line":"","tree-default-expand-all":"","allow-clear":"","show-search":"",disabled:r.disabled},null,8,["value","tree-data","disabled"])])],2),r.mode==="TO_ORG_JOB"||r.mode==="TO_ORG_EMPLOYEE"?(q(),G("div",{key:0,class:j(r.isHorizontal?"mb-2 mr-2":"mb-2 mr-2 w-full")},[m("label",null,[p[11]||(p[11]=F(" Албан тушаал")),p[12]||(p[12]=m("br",null,null,-1)),D(y,{value:c.value,"onUpdate:value":p[3]||(p[3]=g=>c.value=g),"show-search":"",style:{width:"100%"},placeholder:"Байгууллага",optionFilterProp:"searchValue",optionLabelProp:"label",options:_.value,onChange:M,"allow-clear":"",disabled:r.disabled},null,8,["value","options","disabled"])])],2)):ce("",!0),r.mode==="TO_ORG_EMPLOYEE"?(q(),G("div",{key:1,class:j(r.isHorizontal?"mb-2 mr-2":"mb-2  w-full")},[m("label",null,[p[13]||(p[13]=F(" Ажилтан ")),p[14]||(p[14]=m("br",null,null,-1)),D(y,{value:u.value,"onUpdate:value":p[4]||(p[4]=g=>u.value=g),"show-search":"",style:{width:"100%"},placeholder:"Ажилтан сонгох",optionFilterProp:"searchValue",optionLabelProp:"label",options:Z(R),"allow-clear":"",disabled:r.disabled},{option:ee(({value:g,label:ne,avatar:ie})=>[m("div",jt,[D(B,{style:{width:"32px",height:"32px",flex:"none"}},{icon:ee(()=>[m("div",Ut,[m("img",{alt:"avatar",class:"h-full w-full object-cover bg-no-repeat bg-center",src:ie!==null&&ie!==""?"https://riskmapping.mn"+ie:"https://riskmapping.mn/defaultAvatar.svg"},null,8,Vt)])]),_:2},1024),m("span",null,ye(ne),1)])]),_:1},8,["value","options","disabled"])])],2)):ce("",!0)],2)}}};export{Jt as W,Kt as _,Ht as a,Bt as b,Wt as c,zt as d,Qt as e,Yt as g};
