import{a as m,s as a,L as l,U as d,V as c,W as u,N as p,P as _,M as g,K as f,X as h,y as S,Y as v,d as b,o as E,c as L,Z as w,$ as I,_ as r}from"./entry.ee9e6dad.js";const C={props:["selectedLang"],name:"login",data(){return{lambda:a.get(l)}},methods:{onSuccess(e){e.status&&(this.isSuccess=!0,e.oauth?window.location.replace("/oauth2/authorize"):(a.set(d,{...e.data,jwt:void 0}),window.init={user:e.data,firebase_config:this.lambda.notify.firebaseConfig,microserviceSettings:[]},a.set(c,e.token,7*24*60*60*1e3),u(e.token),e.data.role===1?window.location.replace(e.path):p.get("/get-permissions").then(s=>{if(s.data.status){a.set(_,s.data.permission.permissions),a.set(g,s.data.permission.menu),a.set(f,s.data.permission.kruds);let i=h(s.data.permission.menu,null,s.data.permission.kruds);a.set(S,i),s.data.permission.microserviceSettings&&(a.set(v,s.data.permission.microserviceSettings),window.init.microserviceSettings=s.data.permission.microserviceSettings);let n=e.path.replaceAll("#","");if(n.includes("/p/")){let t=n.split("/");t[t.length-1],this.$router.replace("/admin")}else this.$router.replace("/admin")}})))},renderTheme(){return b(()=>I(Object.assign({"../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/aside/auth/login.vue":()=>r(()=>import("./login.68ddf89f.js"),["./login.68ddf89f.js","./entry.ee9e6dad.js","./entry.a6c09c9e.css"],import.meta.url),"../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/default/auth/login.vue":()=>r(()=>import("./login.2aaee278.js"),["./login.2aaee278.js","./entry.ee9e6dad.js","./entry.a6c09c9e.css"],import.meta.url)}),`../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/${this.lambda.theme}/auth/login.vue`))}}};function T(e,s,i,n,t,o){return E(),L(w(o.renderTheme()),{onSuccess:o.onSuccess,selectedLang:i.selectedLang,lambda:t.lambda},null,40,["onSuccess","selectedLang","lambda"])}const O=m(C,[["render",T]]);export{O as default};
