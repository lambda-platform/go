import{T as N,H as S}from"./D3TPyNNA.js";import{S as w,g as R,e as C,_ as b,s as k,K as D,P as L,L as $,M as B,f as V,b as A,i as E}from"./BGcy_aHF.js";import{_ as O}from"./xEUPE1C8.js";import{S as P}from"./DsJgG3iu.js";import{n as F,D as H,E as n,F as s,L as i,J as a,G as d,V as f,N as m,M as p,U as v,I as g,O as y,H as T}from"./DXHvmmg6.js";import"./B6qDo_qF.js";import"./BYTvHWBW.js";import"./CYxtEuKL.js";const U=F({name:"HomeMenuRender",props:["item","cruds","permissions","title","children"],components:{SvgIcon:w,SettingOutlined:P},data(){return{}},methods:{getModuleItem(e){if(e.children)return e},findActivehild(e){let o=0;for(;!this.can(e.children[o]);)o++;return{...e.children[o],svg:e.svg,icon:e.icon}},getPath(e){return C(e,this.permissions)},can(e){return this.permissions[e.id]?!!this.permissions[e.id].show:!1},getTitleHome(e,o){return this.title&&!o?this.title:R(e,this.cruds)},hasItems(e){return e&&e.children!==void 0&&e.children.length>0?e.children.filter(o=>this.permissions[o.id]&&this.permissions[o.id].show===!0).length>0:!1}}}),G={key:0,class:"shadow-md bg-white dark:bg-slate-900 card home-menu"},K=["href"],z={key:2,class:"module-menus"},J={key:0},j={key:2,class:"module-menus"},q={key:0},Q={key:2,class:"module-menus"},W={key:0};function X(e,o,M,t,u,_){const c=H("inline-svg"),h=O,I=H("HomeMenuRender",!0);return s(),n(p,null,[e.can(e.item)&&!e.hasItems(e.item)?(s(),n("div",G,[e.can(e.item)&&!e.hasItems(e.item)&&e.item.link_to==="link"?(s(),n("a",{key:0,class:"text-primary p-4 sm:p-5",href:e.item.url,target:"_blank"},[e.item.icon?(s(),n("i",{key:0,class:f(e.item.icon)},null,2)):i("",!0),e.item.svg?(s(),a(c,{key:1,class:"svg-icon",src:e.item.svg},null,8,["src"])):i("",!0),d("span",null,m(e.getTitleHome(e.item)),1),e.children?(s(),n("p",z,[(s(!0),n(p,null,v(e.children,(r,l)=>(s(),n("span",{key:r.index},[l>=1?(s(),n("span",J,", ")):i("",!0),y(m(e.getTitleHome(r,!0)),1)]))),128))])):i("",!0)],8,K)):e.can(e.item)&&!e.hasItems(e.item)&&e.item.link_to==="router-link"?(s(),a(h,{key:1,to:e.item.url,class:"p-4 sm:p-5"},{default:g(()=>[e.item.icon?(s(),n("i",{key:0,class:f(e.item.icon)},null,2)):i("",!0),e.item.svg?(s(),a(c,{key:1,class:"svg-icon",src:e.item.svg},null,8,["src"])):i("",!0),d("span",null,m(e.getTitleHome(e.item)),1),e.children?(s(),n("p",j,[(s(!0),n(p,null,v(e.children,(r,l)=>(s(),n("span",{key:r.index},[l>=1?(s(),n("span",q,", ")):i("",!0),y(m(e.getTitleHome(r,!0)),1)]))),128))])):i("",!0)]),_:1},8,["to"])):e.can(e.item)&&!e.hasItems(e.item)&&e.item.link_to!=="divider"?(s(),a(h,{key:2,to:`/admin/p/${e.item.id}`,class:"p-4 sm:p-5"},{default:g(()=>[e.item.icon?(s(),n("i",{key:0,class:f(e.item.icon)},null,2)):i("",!0),e.item.svg?(s(),a(c,{key:1,class:"svg-icon",src:e.item.svg},null,8,["src"])):i("",!0),d("span",null,m(e.getTitleHome(e.item)),1),e.children?(s(),n("p",Q,[(s(!0),n(p,null,v(e.children,(r,l)=>(s(),n("span",{key:l},[l>=1?(s(),n("span",W,", ")):i("",!0),y(m(e.getTitleHome(r,!0)),1)]))),128))])):i("",!0)]),_:1},8,["to"])):i("",!0)])):i("",!0),e.can(e.item)&&e.hasItems(e.item)?(s(),a(I,{key:1,title:e.getTitleHome(e.item),children:e.item.children,item:e.findActivehild(e.item),cruds:e.cruds,permissions:e.permissions},null,8,["title","children","item","cruds","permissions"])):i("",!0)],64)}const Y=b(U,[["render",X],["__scopeId","data-v-0dcd6204"]]),Z={name:"index",components:{HomeMenuRender:Y},setup(e,{emit:o}){const M=k.get(D),t=k.get(L),u=k.get($),_=k.get(B);return{isMobile:E,menu:_,permissions:t,kruds:M,title:u.title,logo:u.logo,logoDark:u.logo_dark,base_url:A,darkMode:V}}},x={class:"grid grow grid-nogutter module-page container pb-16 px-4 mx-auto"},ee=["src","alt"],se=["src","alt"],ne={class:"module-navigation"};function ie(e,o,M,t,u,_){const c=N,h=S,I=H("portal"),r=H("HomeMenuRender");return s(),n("div",x,[T(h,null,{default:g(()=>[T(c,null,{default:g(()=>[y(m(t.title),1)]),_:1})]),_:1}),T(I,{to:"header-left"},{default:g(()=>o[0]||(o[0]=[d("div",{class:"flex-grow"},null,-1)])),_:1,__:[0]}),d("div",null,[t.darkMode?(s(),n("img",{key:0,src:`${t.base_url}${t.logoDark}`,class:"logo-light",alt:t.title},null,8,ee)):i("",!0),t.darkMode?i("",!0):(s(),n("img",{key:1,src:`${t.base_url}${t.logo}`,class:"logo-dark",alt:t.title},null,8,se)),d("nav",ne,[d("div",{class:f(t.isMobile?"grid grid-cols-1  gap-4":"grid grid-cols-3  gap-4")},[(s(!0),n(p,null,v(t.menu,l=>(s(),a(r,{key:l.index,item:l,cruds:t.kruds,permissions:t.permissions.permissions},null,8,["item","cruds","permissions"]))),128))],2)])])])}const ce=b(Z,[["render",ie]]);export{ce as default};
