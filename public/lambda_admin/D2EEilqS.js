import{_ as u,h}from"./BGcy_aHF.js";import{E as c,F as o,G as s,N as l,al as f,aa as g,am as v,L as d,ak as k}from"./DXHvmmg6.js";import"./BYTvHWBW.js";import"./CYxtEuKL.js";const p={props:["selectedLang"],name:"aside-forgot",data(){return{loading:!1,isSuccess:!1,isError:!1,errorMsg:"",successMsg:"",credentials:{email:null}}},beforeCreate(){},computed:{lang(){const i=["forgot","email","forgotdescription","sendPasswordResetCode","emailSendError"];return i.reduce((e,n,m)=>(e[n]=this.$t("user."+i[m]),e),{})}},methods:{onSubmit(){this.isSuccess=!1,this.isError=!1,this.loading||(this.loading=!0,h.post("/auth/send-forgot-mail",{...this.credentials,lang:this.selectedLang}).then(({data:i})=>{setTimeout(()=>{this.loading=!1,i.status?(this.isSuccess=!0,this.successMsg=i.msg,setTimeout(()=>{this.$router.push("/auth/password-reset?email="+this.credentials.email)},2100)):(this.isError=!0,this.errorMsg=this.lang.emailSendError)},1e3)}).catch(i=>{this.errorMsg=i.response.data.error,setTimeout(()=>{this.loading=!1,this.isError=!0},1e3)}))}}},_={class:"form-wrap"},b={class:"form-content"},S={class:"form-element input"},E=["placeholder"],M={class:"form-element"},x={style:{"font-size":"12px"}},w={class:"form-element"},y=["disabled"],T={id:"submitTxt"},C={class:"loader"},N={key:0,class:"sk-fading-circle"},V={id:"msg"},B={key:0,class:"success"},L={key:1,class:"error"};function D(i,e,n,m,t,r){return o(),c("div",_,[s("div",b,[s("h2",null,l(r.lang.forgot),1),s("form",{onSubmit:e[1]||(e[1]=f((...a)=>r.onSubmit&&r.onSubmit(...a),["prevent"])),method:"post",class:"login-form"},[s("div",S,[g(s("input",{type:"text",id:"email","onUpdate:modelValue":e[0]||(e[0]=a=>t.credentials.email=a),name:"email",autocomplete:"off",placeholder:r.lang.email},null,8,E),[[v,t.credentials.email]]),e[2]||(e[2]=s("span",{class:"icon user"},null,-1))]),s("div",M,[s("label",x,l(r.lang.forgotdescription),1)]),s("div",w,[s("button",{id:"submit",class:"button",disabled:t.loading,style:{width:"100%"}},[s("span",T,l(r.lang.sendPasswordResetCode),1),s("span",C,[t.loading?(o(),c("div",N,e[3]||(e[3]=[k('<div class="sk-circle1 sk-circle"></div><div class="sk-circle2 sk-circle"></div><div class="sk-circle3 sk-circle"></div><div class="sk-circle4 sk-circle"></div><div class="sk-circle5 sk-circle"></div><div class="sk-circle6 sk-circle"></div><div class="sk-circle7 sk-circle"></div><div class="sk-circle8 sk-circle"></div><div class="sk-circle9 sk-circle"></div><div class="sk-circle10 sk-circle"></div><div class="sk-circle11 sk-circle"></div><div class="sk-circle12 sk-circle"></div>',12)]))):d("",!0)])],8,y)])],32),s("div",V,[t.isSuccess?(o(),c("span",B,l(t.successMsg),1)):d("",!0),t.isError?(o(),c("span",L,l(t.errorMsg),1)):d("",!0)])])])}const G=u(p,[["render",D]]);export{G as default};
