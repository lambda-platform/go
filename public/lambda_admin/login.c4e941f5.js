import{_ as S}from"./nuxt-link.f9e61b5d.js";import{a as C,N as g,r as c,o as u,e as _,h as e,t as l,f as o,w as r,i as f,p as x}from"./entry.26562f7f.js";const N={props:["lambda","onSuccess","selectedLang","onError"],name:"aside-login",data(){return{loading:!1,isSuccess:!1,isError:!1,credentials:{login:null,password:null}}},computed:{lang(){const t=["loginTitle","username","password","remember","login","forgot","loginSuccess","loginError"];return t.reduce((a,i,m)=>(a[i]=this.$t("user."+t[m]),a),{})}},methods:{onSubmit(){this.isSuccess=!1,this.isError=!1,this.loading||(this.loading=!0,g.defaults.headers.common.Authorization="",g.defaults.withCredentials=!0,g.post("/auth/login",this.credentials).then(({data:t})=>{t.status?this.onSuccess(t):(this.isError=!0,this.loading=!1)}).catch(t=>{this.loading=!1,this.isError=!0,this.onError&&this.onError()}))}}},T={class:"form-content"},U={key:0,class:"logo with-text"},V=["src"],B={key:1,class:"logo"},L=["src"],q={class:"space-y-6"},G={class:"loginInput"},z={class:"pb-2 text-slate-700"},A={class:"svg-icon"},D={class:"pb-2 text-slate-700"},I={class:"svg-icon"},j={class:"flex flex-row justify-between space-x-4"},F={class:"text-slate-700"},H={class:""},J={id:"msg"},K={key:0,class:"success"},M={key:1,class:"error"};function O(t,a,i,m,n,s){const h=c("inline-svg"),v=c("a-input"),p=c("a-form-item"),b=c("a-input-password"),w=c("a-checkbox"),k=S,y=c("a-button"),E=c("a-form");return u(),_("div",T,[i.lambda.logoText!=""?(u(),_("div",U,[e("img",{src:i.lambda.logo,alt:""},null,8,V),e("span",null,l(i.lambda.logoText),1)])):(u(),_("div",B,[e("img",{src:i.lambda.logo,alt:""},null,8,L)])),e("h2",null,l(s.lang.loginTitle),1),o(E,{class:"mx-auto",model:n.credentials,layout:"vertical",autocomplete:"off"},{default:r(()=>[e("div",q,[e("div",G,[o(p,{name:"login",rules:[{required:!0,message:s.lang.username}]},{default:r(()=>[e("div",z,l(s.lang.username),1),o(v,{type:"text",placeholder:s.lang.username,value:n.credentials.login,"onUpdate:value":a[0]||(a[0]=d=>n.credentials.login=d)},{prefix:r(()=>[e("span",A,[o(h,{class:"w-4 h-4 mr-1",src:"/assets/icons/duotone/General/User.svg"})])]),_:1},8,["placeholder","value"])]),_:1},8,["rules"]),o(p,{name:"password",rules:[{required:!0,message:s.lang.password}]},{default:r(()=>[e("div",D,l(s.lang.password),1),o(b,{placeholder:s.lang.password,value:n.credentials.password,"onUpdate:value":a[1]||(a[1]=d=>n.credentials.password=d)},{prefix:r(()=>[e("span",I,[o(h,{class:"w-4 h-4 mr-1",src:"/assets/icons/duotone/General/Lock.svg"})])]),_:1},8,["placeholder","value"])]),_:1},8,["rules"]),e("div",j,[o(w,{checked:t.checkbox,"onUpdate:checked":a[2]||(a[2]=d=>t.checkbox=d)},{default:r(()=>[e("span",F,l(s.lang.remember),1)]),_:1},8,["checked"]),o(k,{class:"forgot",to:"/auth/forgot"},{default:r(()=>[f(l(s.lang.forgot),1)]),_:1})])]),e("div",H,[o(y,{type:"primary",class:"w-full",loading:n.loading,style:{"border-radius":"8px",height:"38px"},onClick:s.onSubmit,"html-type":"submit"},{default:r(()=>[f(l(s.lang.login),1)]),_:1},8,["loading","onClick"])]),e("div",J,[n.isSuccess?(u(),_("span",K,l(s.lang.loginSuccess),1)):x("",!0),n.isError?(u(),_("span",M,l(s.lang.loginError),1)):x("",!0)])])]),_:1},8,["model"])])}const R=C(N,[["render",O]]);export{R as default};
