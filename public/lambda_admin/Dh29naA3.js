import{u as Y,_ as Z}from"./BEwySfHS.js";import{aD as ee}from"./C_206FfQ.js";import{K as oe,c as te}from"./DI_4Y3es.js";import{f as d,y as s,z as l,A as ie,C as n,u as e,D as C,B as r,a8 as ne,E as w,F as v}from"./BsiC3VYZ.js";import"./BgMGjKYI.js";import"./BYTvHWBW.js";import"./Ds1lc8d-.js";import"./BHcF-zQ5.js";const re={class:"card drawer-wrappper"},se={class:"offcanvas-template"},ae={class:"crud-page"},de={class:"crud-page-body"},le={id:"drawer-container"},$e={__name:"popup",props:{title:String,icon:String,main_tab_title:String,grid:Number,form:Number,projects_id:Number,hideHeader:Boolean,hasSelection:Boolean,actions:String,dbClickAction:Function,onRowSelect:Function,rowCurrentChange:Function,permissions:Object,user_condition:Object,custom_condition:Object,view_url:String,mode:String,onPropertySuccess:Function,onPropertyError:Function,page_id:String,withoutHeader:Boolean,withCrudLog:Boolean,base_url:String,form_width:[Number,String],edit_id:[Number,String],CRUD_ID:[Number,String],template:String,parent:Object},setup(o){const{t:E}=ee(),c=o,u=d(null),m=d(null),t=d(!1);function f(){t.value=!1,a.value=!1}function p(){t.value=!0}function x(){p()}function R(){f()}function b(){}const{closeByBtn:ce,gridSrc:ue,formSrc:me,editMode:a,searchModel:fe,form_width:D,exportLoading:U,isPrint:k,isExcel:I,isRefresh:_,isSave:y,rowId:g,cloneID:pe,visibleDataForm:ge,isExcelUpload:B,excelUploadCustomUrl:N,showID:he,hasVNavSlot:Se,hasNavSlot:Ce,hasLeftSlot:we,url:h,lang:ve,view:F,edit:L,clone:$,quickEdit:M,refresh:O,search:P,stopLoading:Ee,exportExcel:V,print:j,excelUploadMethod:K,save:A,onReady:T,onSuccess:z,onError:G,mediaRecorder:xe,recordedChunks:Re,showScreenRecordConfirm:be,startRecording:De,stopRecording:Ue,changeKrudTool:H}=Y(c,u,m,x,R,b,E,c.CRUD_ID);return(i,S)=>{const Q=s("portal"),q=s("datagrid"),J=s("dataform"),W=s("a-modal");return l(),ie("div",re,[n(e(Z),{parent:o.parent,title:o.title,addAction:p,permissions:o.permissions,CRUD_ID:o.CRUD_ID},null,8,["parent","title","permissions","CRUD_ID"]),n(Q,{to:"header-right"},{default:C(()=>[n(e(oe),{search:e(P),refresh:e(O),exportExcel:e(V),exportLoading:e(U),print:e(j),save:e(A),isPrint:e(k),isExcel:e(I),isExcelUpload:e(B),excelUploadCustomUrl:e(N),excelUploadMethod:e(K),isRefresh:e(_),isSave:e(y),isSearch:!1},null,8,["search","refresh","exportExcel","exportLoading","print","save","isPrint","isExcel","isExcelUpload","excelUploadCustomUrl","excelUploadMethod","isRefresh","isSave"])]),_:1}),r("section",se,[r("div",ae,[r("div",de,[r("div",le,[r("div",{class:ne(t.value?"dg-flex open-drawer":"dg-flex")},[o.permissions&&o.permissions.r?(l(),w(q,{key:0,ref_key:"dataGrid",ref:m,url:e(h),schemaID:o.grid,paginate:50,fnClone:e($),fnEdit:e(L),fnQuickEdit:e(M),fnView:e(F),actions:i.$props.actions,dblClick:i.$props.dbClickAction,onRowSelect:i.$props.onRowSelect,permissions:o.permissions,page_id:o.page_id,custom_condition:i.$props.custom_condition?i.$props.custom_condition:null,user_condition:o.user_condition?o.user_condition.gridCondition:null,changeKrudTool:e(H)},null,8,["url","schemaID","fnClone","fnEdit","fnQuickEdit","fnView","actions","dblClick","onRowSelect","permissions","page_id","custom_condition","user_condition","changeKrudTool"])):v("",!0)],2)])])])]),n(W,{open:t.value,"onUpdate:open":S[0]||(S[0]=X=>t.value=X),class:"create",maskClosable:!1,title:o.withCrudLog?`${o.title} : ${e(g)}`:o.title,forceRender:!0,width:e(D),footer:null,placement:"right"},{default:C(()=>[n(J,{ref_key:"dataForm",ref:u,hideTitle:!0,schemaID:o.form,title:o.title,url:e(h),editMode:e(a),onSuccess:e(z),onReady:e(T),do_render:t.value,permissions:o.permissions,page_id:o.page_id,user_condition:o.user_condition?o.user_condition.formCondition:null,onError:e(G),close:f},null,8,["schemaID","title","url","editMode","onSuccess","onReady","do_render","permissions","page_id","user_condition","onError"]),o.withCrudLog&&e(a)?(l(),w(e(te),{key:0,form:o.form,rowId:e(g),grid:o.grid},null,8,["form","rowId","grid"])):v("",!0)]),_:1},8,["open","title","width"])])}}};export{$e as default};
