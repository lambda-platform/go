import{h as d}from"./BNUQ0oDs.js";import{c as f,I as p,f as h,w as v,o as i,q as b,B as g,A as B,z as w}from"./Bb3cLOD_.js";import"./DTdGTy9U.js";import"./BYTvHWBW.js";import"./CU0CZyNU.js";const S={__name:"process_status_changer",props:{model:Object,label:String,meta:Object,do_render:Boolean,editMode:Boolean,is_show:Boolean,relation_data:Function,showInformationModal:Boolean,url:String,setSchemaByModel:Function,getSchemaByModel:Function,isBuilder:Boolean},setup(t){const l=t,o=f([]);p(()=>{m()});function r(a){const e=o.value.findIndex(s=>s.status_id===a);e>=0&&(l.model.form.status_type=o.value[e].status_type,l.model.form.status=o.value[e].status)}async function m(){n.value?d.get(`/process/history/${n.value}`).then(({data:a})=>{o.value=a.statusHistories.map(e=>({...e,value:e.status_id,label:e.status}))}):o.value=[]}const n=h(()=>l.model.form.id);return v(n,()=>{m()}),(a,e)=>{const s=i("a-select"),u=i("lambda-form-item");return b(),g(u,{label:t.label,name:t.model.component,meta:t.meta},{default:B(()=>[w(s,{value:t.model.form[t.model.component],"onUpdate:value":e[0]||(e[0]=c=>t.model.form[t.model.component]=c),"show-search":"",style:{width:"100%"},placeholder:"Төлөв сонгох",optionFilterProp:"searchValue",optionLabelProp:"label",options:o.value,onChange:r,loading:!o.value.length,"allow-clear":""},null,8,["value","options","loading"])]),_:1},8,["label","name","meta"])}}};export{S as default};
