import{a as y}from"./common.a3ab4f3b.js";import{U as m,Y as a,Z as c,_ as e,a6 as r,E as v,y as u,ab as p,c as g,a4 as _,H as h,a7 as f,Q as w}from"./vue.9a5b07a3.js";import{a as k}from"./entry.7857a8b1.js";import"./ant.9c0b679d.js";import"./cryptoJs.12d0d048.js";import"./moment.8b5e7d95.js";import"./ag.16cfe0bb.js";import"./lodash.2101602c.js";import"./numeral.08866ac3.js";const x={props:["lambda","onSuccess"],name:"login",data(){return{loading:!1,isSuccess:!1,isError:!1,credentials:{login:null,password:null}}},computed:{lang(){const l=["loginTitle","username","password","remember","login","forgot","loginSuccess","loginError"];return l.reduce((o,i,d)=>(o[i]=this.$t("user."+l[d]),o),{})}},methods:{onSubmit(){this.isSuccess=!1,this.isError=!1,this.loading||(this.loading=!0,y.post("/auth/login",this.credentials).then(({data:l})=>{l.status?this.onSuccess(l):(this.isError=!0,this.loading=!1)}).catch(l=>{this.loading=!1,this.isError=!0}))}}},E={class:"form-wrap"},V={class:"form-content"},C={class:"form-element input"},N=["disabled","placeholder"],T=e("span",{class:"icon user"},null,-1),B={class:"form-element input"},U=["disabled","placeholder"],D=e("span",{class:"icon pass"},null,-1),M={class:"form-element"},F=e("input",{type:"checkbox",class:"checkbox",id:"remember_me"},null,-1),H={for:"remember_me"},Q={class:"form-element action"},Y={id:"msg"},Z={key:0,class:"success"},q={key:1,class:"error"},z={class:"copyright",style:{width:"70%","text-align":"center"}};function A(l,o,i,d,t,s){const b=m("a-button"),S=m("router-link");return a(),c("div",E,[e("div",V,[e("h2",null,r(s.lang.loginTitle),1),e("form",{onSubmit:o[2]||(o[2]=v((...n)=>s.onSubmit&&s.onSubmit(...n),["prevent"])),id:"authForm",method:"post",class:"login-form"},[e("div",C,[u(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=n=>t.credentials.login=n),disabled:t.loading,placeholder:s.lang.username},null,8,N),[[p,t.credentials.login]]),T]),e("div",B,[u(e("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=n=>t.credentials.password=n),disabled:t.loading,placeholder:s.lang.password},null,8,U),[[p,t.credentials.password]]),D]),e("div",M,[F,e("label",H,r(s.lang.remember),1)]),e("div",Q,[g(b,{type:"primary",loading:t.loading,onClick:s.onSubmit},{default:_(()=>[h(r(s.lang.login),1)]),_:1},8,["loading","onClick"]),e("p",null,[g(S,{class:"forgot",to:"/auth/forgot"},{default:_(()=>[h(r(s.lang.forgot),1)]),_:1})])])],32),e("div",Y,[t.isSuccess?(a(),c("span",Z,r(s.lang.loginSuccess),1)):f("",!0),t.isError?(a(),c("span",q,r(s.lang.loginError),1)):f("",!0)])]),e("div",z,r(i.lambda.copyright),1),w(l.$slots,"copyright")])}const X=k(x,[["render",A]]);export{X as default};
