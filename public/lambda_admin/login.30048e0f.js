import{a as m,s,L as l,U as d,A as c,m as u,P as p,M as _,K as f,n as g,f as h,o as S,_ as r}from"./entry.d64f9778.js";import{_ as v}from"./dynamic-import-helper.1977255f.js";import{a as b}from"./common.6a974f5f.js";import{X as E,Y as L,a0 as w,a6 as I}from"./vue.af4c1aff.js";import"./moment.8b5e7d95.js";import"./ag.ed4f9fb5.js";import"./lodash.e407703a.js";import"./ant.1e7698c3.js";import"./numeral.035c4f8b.js";import"./cryptoJs.7428ec8d.js";const C={props:["selectedLang"],name:"login",data(){return{lambda:s.get(l)}},methods:{onSuccess(e){e.status&&(this.isSuccess=!0,e.oauth?window.location.replace("/oauth2/authorize"):(s.set(d,{...e.data,jwt:void 0}),window.init={user:e.data,firebase_config:this.lambda.notify.firebaseConfig,microserviceSettings:[]},s.set(c,e.token,7*24*60*60*1e3),u(e.token),e.data.role===1?window.location.replace(e.path):b.get("/get-permissions").then(t=>{if(t.data.status){s.set(p,t.data.permission.permissions),s.set(_,t.data.permission.menu),s.set(f,t.data.permission.kruds);let i=g(t.data.permission.menu,null,t.data.permission.kruds);s.set(h,i),t.data.permission.microserviceSettings&&(s.set(S,t.data.permission.microserviceSettings),window.init.microserviceSettings=t.data.permission.microserviceSettings);let o=e.path.replaceAll("#","");if(o.includes("/p/")){let a=o.split("/");a[a.length-1],this.$router.replace("/admin")}else this.$router.replace("/admin")}})))},renderTheme(){return E(()=>v(Object.assign({"../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/aside/auth/login.vue":()=>r(()=>import("./login.78063763.js"),["./login.78063763.js","./common.6a974f5f.js","./ant.1e7698c3.js","./vue.af4c1aff.js","./entry.d64f9778.js","./moment.8b5e7d95.js","./ag.ed4f9fb5.js","./lodash.e407703a.js","./numeral.035c4f8b.js","./cryptoJs.7428ec8d.js","./entry.9b05932c.css"],import.meta.url),"../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/default/auth/login.vue":()=>r(()=>import("./login.d9c0bb51.js"),["./login.d9c0bb51.js","./common.6a974f5f.js","./ant.1e7698c3.js","./vue.af4c1aff.js","./entry.d64f9778.js","./moment.8b5e7d95.js","./ag.ed4f9fb5.js","./lodash.e407703a.js","./numeral.035c4f8b.js","./cryptoJs.7428ec8d.js","./entry.9b05932c.css"],import.meta.url)}),`../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/${this.lambda.theme}/auth/login.vue`))}}};function T(e,t,i,o,a,n){return L(),w(I(n.renderTheme()),{onSuccess:n.onSuccess,selectedLang:i.selectedLang,lambda:a.lambda},null,40,["onSuccess","selectedLang","lambda"])}const y=m(C,[["render",T]]);export{y as default};
