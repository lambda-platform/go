import{al as c,am as p,j as y}from"./C_206FfQ.js";const s=c(p),b=s.smaller("sm");s.between("sm","xl");s.greater("xl");const o=async(e,t,l)=>{if(Object.keys(t).length>=1){let r=await y.post(`${e}/lambda/puzzle/get_options${l}`,{relations:t});Object.keys(r.data).map(n=>{let i={...t[n],data:r.data[n]};t[n]=i})}return t},g=async(e,t,l)=>{let r=f(e,void 0);if(window.init)if(window.init.microserviceSettings)if(window.init.microserviceSettings.length>=1){let n={};for(const i of window.init.microserviceSettings){let d=f(e,i.project_id),u=await o(i.production_url,d,l);n={...n,...u}}return n}else return await o("",r,l);else return await o("",r,l);else return await o("",r,l)},a=(e,t,l)=>{if(e.relation.filterWithUser){if(e.relation.filterWithUser&&e.relation.filterWithUser.constructor===Array){let r="";e.relation.filterWithUser.forEach(n=>{let i=`${n.tableField} = '${window.init.user[n.userField]}'`;r==""?r=i:r=r+" AND "+i}),e.relation.filter===""||typeof e.relation.filter>"u"?e.relation.filter=r:e.relation.filter=`(${e.relation.filter}) AND (${r})`}else{let r=`${e.relation.filterWithUser.tableField} = '${window.init.user[e.relation.filterWithUser.userField]}'`;e.relation.filter===""||typeof e.relation.filter>"u"?e.relation.filter=r:e.relation.filter=e.relation.filter+" AND "+r}e.relation.filterWithUser=void 0}return e.relation.filter===""||typeof e.relation.filter>"u"?t[e.relation.table]=e.relation:t[e.model]=e.relation,t},f=(e,t)=>{let l={};return e.forEach(r=>{if((r.formType==="Radio"||r.formType==="Select"||r.formType==="ISelect"||r.formType==="TreeSelect"||r.formType==="FooterButton")&&r.relation.table&&(r.relation.filter===""||typeof r.relation.filter>"u"?typeof l[r.relation.table]>"u"&&(t!==void 0?r.relation.microservice_id==t&&(l=a(r,l)):l=a(r,l)):typeof l[r.model]>"u"&&(t!==void 0?r.relation.microservice_id==t&&(l=a(r,l)):l=a(r,l))),r.formType==="AdminMenu"&&r.relation.table&&(l[r.relation.table]=r.relation),r.formType==="SubForm"&&r.schema){let n=f(r.schema,t);n&&(l={...l,...n})}}),l},h=(e,t)=>e.relation.filter===""||typeof e.relation.filter>"u"?t[e.relation.table]?t[e.relation.table].data:e.relation.filterWithUser?t[e.model]?t[e.model].data:[]:[]:t[e.model]?t[e.model].data:[];export{h as a,g,b as i};
