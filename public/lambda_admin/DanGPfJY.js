import{H as I,T as N}from"./CBuHlWea.js";import{S,g as C,a as R,_ as T,s as k,K as $,P as B,L as D,M as A,i as L,b as E,d as O}from"./BNUQ0oDs.js";import{_ as P}from"./BuMMHCAU.js";import{S as V}from"./B3cmyR-a.js";import{d as F,o as b,x as i,O as f,C as t,B as a,y as m,D as d,F as g,N as v,A as h,q as s,E as y,z as w}from"./Bb3cLOD_.js";import"./CZalRZld.js";import"./DTdGTy9U.js";import"./BYTvHWBW.js";import"./CU0CZyNU.js";const z=F({name:"HomeMenuRender",props:["item","cruds","permissions","title","children"],components:{SvgIcon:S,SettingOutlined:V},data(){return{}},methods:{getModuleItem(e){if(e.children)return e},findActivehild(e){let r=0;for(;!this.can(e.children[r]);)r++;return{...e.children[r],svg:e.svg,icon:e.icon}},getPath(e){return C(e,this.permissions)},can(e){return this.permissions[e.id]?!!this.permissions[e.id].show:!1},getTitleHome(e,r){return this.title&&!r?this.title:R(e,this.cruds)},hasItems(e){return e&&e.children!==void 0&&e.children.length>0?e.children.filter(r=>this.permissions[r.id]&&this.permissions[r.id].show===!0).length>0:!1}}}),K=["href"],U={key:2,class:"module-menus"},q={key:0},G={key:2,class:"module-menus"},j={key:0},J={key:2,class:"module-menus"},Q={key:0};function W(e,r,_,n,u,H){const c=b("inline-svg"),p=P,M=b("HomeMenuRender",!0);return s(),i(g,null,[e.can(e.item)&&!e.hasItems(e.item)&&e.item.link_to==="link"?(s(),i("a",{key:0,class:"card p-4 sm:p-5 shadow-md bg-white dark:bg-slate-900 bg-white dark:bg-slate-900",href:e.item.url,target:"_blank"},[e.item.icon?(s(),i("i",{key:0,class:f(e.item.icon)},null,2)):t("",!0),e.item.svg?(s(),a(c,{key:1,class:"svg-icon",src:e.item.svg},null,8,["src"])):t("",!0),m("span",null,d(e.getTitleHome(e.item)),1),e.children?(s(),i("p",U,[(s(!0),i(g,null,v(e.children,(o,l)=>(s(),i("span",{key:o.index},[l>=1?(s(),i("span",q,", ")):t("",!0),y(d(e.getTitleHome(o,!0)),1)]))),128))])):t("",!0)],8,K)):e.can(e.item)&&!e.hasItems(e.item)&&e.item.link_to==="router-link"?(s(),a(p,{key:1,to:e.item.url,class:"card p-4 sm:p-5 shadow-md bg-white dark:bg-slate-900 bg-white dark:bg-slate-900"},{default:h(()=>[e.item.icon?(s(),i("i",{key:0,class:f(e.item.icon)},null,2)):t("",!0),e.item.svg?(s(),a(c,{key:1,class:"svg-icon",src:e.item.svg},null,8,["src"])):t("",!0),m("span",null,d(e.getTitleHome(e.item)),1),e.children?(s(),i("p",G,[(s(!0),i(g,null,v(e.children,(o,l)=>(s(),i("span",{key:o.index},[l>=1?(s(),i("span",j,", ")):t("",!0),y(d(e.getTitleHome(o,!0)),1)]))),128))])):t("",!0)]),_:1},8,["to"])):e.can(e.item)&&!e.hasItems(e.item)&&e.item.link_to!=="divider"?(s(),a(p,{key:2,to:`/admin/p/${e.item.id}`,class:"card p-4 sm:p-5 shadow-md bg-white dark:bg-slate-900 bg-white dark:bg-slate-900"},{default:h(()=>[e.item.icon?(s(),i("i",{key:0,class:f(e.item.icon)},null,2)):t("",!0),e.item.svg?(s(),a(c,{key:1,class:"svg-icon",src:e.item.svg},null,8,["src"])):t("",!0),m("span",null,d(e.getTitleHome(e.item)),1),e.children?(s(),i("p",J,[(s(!0),i(g,null,v(e.children,(o,l)=>(s(),i("span",{key:l},[l>=1?(s(),i("span",Q,", ")):t("",!0),y(d(e.getTitleHome(o,!0)),1)]))),128))])):t("",!0)]),_:1},8,["to"])):t("",!0),e.can(e.item)&&e.hasItems(e.item)?(s(),a(M,{key:3,title:e.getTitleHome(e.item),children:e.item.children,item:e.findActivehild(e.item),cruds:e.cruds,permissions:e.permissions},null,8,["title","children","item","cruds","permissions"])):t("",!0)],64)}const X=T(z,[["render",W],["__scopeId","data-v-38ece5b1"]]),Y={name:"index",components:{HomeMenuRender:X},setup(e,{emit:r}){const _=k.get($),n=k.get(B),u=k.get(D),H=k.get(A);return{isMobile:L,menu:H,permissions:n,kruds:_,title:u.title,logo:u.logo,logoDark:u.logo_dark,base_url:E,darkMode:O}}},Z={class:"grid grow grid-nogutter module-page container pb-16 px-4 mx-auto"},x=m("div",{class:"flex-grow"},null,-1),ee=["src","alt"],se=["src","alt"],ie={class:"module-navigation"};function ne(e,r,_,n,u,H){const c=N,p=I,M=b("portal"),o=b("HomeMenuRender");return s(),i("div",Z,[w(p,null,{default:h(()=>[w(c,null,{default:h(()=>[y(d(n.title),1)]),_:1})]),_:1}),w(M,{to:"header-left"},{default:h(()=>[x]),_:1}),m("div",null,[n.darkMode?(s(),i("img",{key:0,src:`${n.base_url}${n.logoDark}`,class:"logo-light",alt:n.title},null,8,ee)):t("",!0),n.darkMode?t("",!0):(s(),i("img",{key:1,src:`${n.base_url}${n.logo}`,class:"logo-dark",alt:n.title},null,8,se)),m("nav",ie,[m("div",{class:f(n.isMobile?"grid grid-cols-1  gap-4":"grid grid-cols-3  gap-4")},[(s(!0),i(g,null,v(n.menu,l=>(s(),a(o,{key:l.index,item:l,cruds:n.kruds,permissions:n.permissions.permissions},null,8,["item","cruds","permissions"]))),128))],2)])])])}const ge=T(Y,[["render",ne]]);export{ge as default};
