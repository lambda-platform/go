"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9242],{94621:(e,t,s)=>{function i(e){if(e.filterWithUser){if(e.filterWithUser&&e.filterWithUser.constructor===Array)e.filterWithUser.forEach((t=>{let s=`${t.tableField} = '${window.init.user[t.userField]}'`;""==e.filter||void 0===e.filter?e.filter=s:e.filter=e.filter+" AND "+s}));else{let t=`${e.filterWithUser.tableField} = '${window.init.user[e.filterWithUser.userField]}'`;""==e.filter||void 0===e.filter?e.filter=t:e.filter=e.filter+" AND "+t}e.filterWithUser=void 0}return e}s.d(t,{v:()=>i})},29576:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var i=s(66474),l=s.n(i),a=s(72505),r=s.n(a),n=s(50156),o=s(94621);const u=l().extend({data:()=>({options:[],selected:"",currentValue:null}),created(){if(!this.params.isClient){let e=`/lambda/krud/${this.params.schemaID}/options`;r().post(e,(0,o.v)(this.params.column.filter.relation)).then((({data:e})=>{this.options=e,this.loading=!1}))}},methods:{element:n.N,setMeta(e){return e.schemaID=this.params.schemaID,e},getValues(){console.log("here"),console.log(this.params.api),this.params.api.forEachLeafNode((e=>{this.options.push(e.data[this.params.column.model])})),this.options=[...new Set(this.options)]},setValue(e){this.selected=e,this.params.filterData(this.params.column.model,e,"equals")},valueChanged(e){this.params.isClient?this.params.filterData(this.params.column.model,e.target.value,"contains"):this.params.filterData(this.params.column.model,e.target.value)},onParentModelChanged(e){this.currentValue=e?e.filter:null}}});const c=(0,s(14486).A)(u,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"selectable-input-filter"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],ref:"sinput",domProps:{value:e.selected},on:{input:[function(t){t.target.composing||(e.selected=t.target.value)},e.valueChanged]}}),e._v(" "),t("div",{staticClass:"selectable-input-filter-arrow"},[t("Poptip",{on:{"on-popper-show":e.getValues}},[t("div",{staticClass:"arrow-down"}),e._v(" "),t("div",{attrs:{slot:"content"},slot:"content"},[t("ul",{staticClass:"selectable-input-filter-list"},e._l(e.options,(function(s){return t("li",{key:s.index,on:{click:function(t){return e.setValue(s)}}},[e._v("\n                        "+e._s(s)+"\n                    ")])})),0)])])],1)])}),[],!1,null,null,null).exports}}]);