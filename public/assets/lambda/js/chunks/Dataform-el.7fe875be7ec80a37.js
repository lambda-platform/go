/*! For license information please see Dataform-el.7fe875be7ec80a37.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[826],{8883:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=8883,e.exports=t},57786:(e,t,n)=>{"use strict";n.d(t,{Q8:()=>o,bG:()=>s});var r=[{element:"Text",component:function(){return n.e(705).then(n.bind(n,95879))}},{element:"Select",component:function(){return n.e(4036).then(n.bind(n,4556))}},{element:"Number",component:function(){return n.e(8254).then(n.bind(n,42320))}},{element:"Date",component:function(){return n.e(4218).then(n.bind(n,85361))}},{element:"Textarea",component:function(){return n.e(9343).then(n.bind(n,93797))}},{element:"Checkbox",component:function(){return n.e(1797).then(n.bind(n,69734))}},{element:"CheckboxSmall",component:function(){return n.e(1797).then(n.bind(n,55369))}},{element:"Image",component:function(){return n.e(6987).then(n.bind(n,98545))}},{element:"ImageSubform",component:function(){return n.e(8876).then(n.bind(n,87263))}},{element:"File",component:function(){return n.e(7997).then(n.bind(n,11021))}},{element:"FileSubform",component:function(){return n.e(8876).then(n.bind(n,87263))}},{element:"Radio",component:function(){return n.e(7911).then(n.bind(n,1697))}},{element:"subform/Grid",component:function(){return n.e(2405).then(n.bind(n,59351))}},{element:"subform/Form",component:function(){return n.e(931).then(n.bind(n,4522))}},{element:"ImageDrag",component:function(){return n.e(6386).then(n.bind(n,26688))}},{element:"DateTime",component:function(){return n.e(126).then(n.bind(n,15990))}},{element:"Divider",component:function(){return n.e(4136).then(n.bind(n,25772))}},{element:"CK",component:function(){return n.e(6024).then(n.bind(n,70537))}},{element:"CkOld",component:function(){return n.e(6024).then(n.bind(n,6743))}},{element:"CkOldPhp7",component:function(){return n.e(6024).then(n.bind(n,60517))}},{element:"Password",component:function(){return n.e(1933).then(n.bind(n,66945))}},{element:"Money",component:function(){return n.e(2387).then(n.bind(n,30108))}},{element:"ColorPicker",component:function(){return n.e(6133).then(n.bind(n,80547))}},{element:"Email",component:function(){return n.e(2997).then(n.bind(n,4019))}},{element:"TreeSelect",component:function(){return n.e(84).then(n.bind(n,93801))}},{element:"Download",component:function(){return n.e(7455).then(n.bind(n,19101))}},{element:"Geographic",component:function(){return Promise.all([n.e(8204),n.e(6244)]).then(n.bind(n,58535))}},{element:"Hidden",component:function(){return n.e(9035).then(n.bind(n,89222))}},{element:"Map",component:function(){return n.e(9566).then(n.bind(n,99566))}},{element:"MoneyWithoutCurrency",component:function(){return n.e(2387).then(n.bind(n,99390))}},{element:"NumberGenerate",component:function(){return n.e(4370).then(n.bind(n,39630))}},{element:"PasswordGenerate",component:function(){return n.e(6566).then(n.bind(n,10929))}},{element:"RadioWithThumb",component:function(){return n.e(7911).then(n.bind(n,37808))}},{element:"RadioWithTextInput",component:function(){return n.e(3146).then(n.bind(n,87024))}},{element:"Register",component:function(){return n.e(653).then(n.bind(n,60653))}},{element:"ISelect",component:function(){return Promise.all([n.e(8204),n.e(4607)]).then(n.bind(n,12817))}},{element:"Search",component:function(){return n.e(5182).then(n.bind(n,65228))}},{element:"Switch",component:function(){return n.e(3617).then(n.bind(n,42635))}},{element:"Time",component:function(){return n.e(973).then(n.bind(n,68418))}},{element:"QGis",component:function(){return n.e(5896).then(n.bind(n,6550))}},{element:"HTML",component:function(){return n.e(80).then(n.bind(n,63752))}},{element:"JsonEditor",component:function(){return n.e(3666).then(n.bind(n,26724))}},{element:"AdminMenu",component:function(){return n.e(3666).then(n.bind(n,72828))}},{element:"GridSelector",component:function(){return n.e(3183).then(n.bind(n,24575))}},{element:"FooterButton",component:function(){return n.e(5075).then(n.bind(n,80613))}},{element:"TimeMask",component:function(){return n.e(5323).then(n.bind(n,59648))}},{element:"TextHidden",component:function(){return n.e(5323).then(n.bind(n,37424))}},{element:"Label",component:function(){return n.e(5109).then(n.bind(n,18841))}},{element:"TextareaByte",component:function(){return n.e(5109).then(n.bind(n,93797))}},{element:"CKByte",component:function(){return n.e(6024).then(n.bind(n,70537))}}],o=r.map((function(e){return e.element})),i=function(){return n.e(9342).then(n.bind(n,6754))},a=function(){return n.e(5955).then(n.bind(n,28401))},s=function(e){if(null!=e){var t=r.findIndex((function(t){return t.element==e}));if(t>=0)return r[t].component}return function(e){if(!window.init.data_form_custom_elements)return i;if(!window.init.data_form_custom_elements.find((function(t){return t.element==e})))return i;try{return n(8883)("./".concat(e,".vue")).default}catch(e){return console.log(e),a}}(e)}},82891:(e,t,n)=>{"use strict";n.d(t,{i:()=>s,j1:()=>a,jQ:()=>l,pg:()=>f});var r=null,o=null,i=null,a=function(e){r=e},s=function(e,t){i=t,o=e},l=[{type:"required",msg:"Талбарыг бөглөнө үү!"},{type:"email",msg:"Имэйл хаягаа зөв оруулна уу!"},{type:"number",msg:"Тоон утга оруулна уу!"},{type:"numeric",msg:"Тоон утга оруулна уу!"},{type:"register",msg:"Регистрийн дугаар!"},{type:"mongolianMobileNumber",msg:"8 оронтой утасны дугаар оруулна уу!"},{type:"englishAlphabet",msg:"Зөвхөн латин үсэг оруулна уу!"},{type:"mongolianCyrillic",msg:"Зөвхөн кирилл үсэг оруулна уу!"},{type:"unique",msg:"Давхацсан утга оруулсан байна!"},{type:"lambda-account",msg:"Давхацсан утга оруулсан байна!"}],c=function(e,t,n){t.match(/^[a-zA-Z!@#\$%\^\&*\s*)\(+=._-]+$/)?n():n(new Error("Зөвхөн латин үсэг оруулна уу"))},d=function(e,t,n){t.match(/^[а-яөүёА-ЯӨҮЁ0-9!@#\$%\^\&*\s*)\(+=._-]+$/)?n():n(new Error("Зөвхөн кирилл үсэг оруулна уу!"))},u=function(e,t,n){t.toString().match(/^[0-9]{8}$/)?n():n(new Error("8 оронтой утасны дугаар оруулна уу!"))},m=function(e,t,n){t.toString().substring(0,2).match(/^[а-яөүёА-ЯӨҮЁ0-9!@#\$%\^\&*\s*)\(+=._-]+$/)&&t.toString().substring(2,10).match(/^[0-9]{8}$/)?n():n(new Error("Регистрээ зөв оруулна уу!"))},f=function(e,t){switch(t||(t=""),e.type){case"required":return{required:!0,message:e.msg};case"array":return{type:"array",required:e.required,message:e.message};case"min":return{type:"string",min:parseInt(e.val,10),message:e.msg};case"max":return{type:"string",max:parseInt(e.val,10),message:e.msg};case"email":return{type:"email",trigger:"blur",message:e.msg};case"number":return{type:"number",message:e.msg};case"mongolianMobileNumber":return{validator:u,trigger:"blur"};case"unique":return{validator:function(e,n,a){return function(e,t,n,a){axios.post("".concat(a,"/lambda/krud/unique"),{table:r,identityColumn:o,identity:i,field:e.field,val:t}).then((function(e){e.data.status?n():n(new Error(e.data.msg))}))}(e,n,a,t)},trigger:"blur"};case"lambda-account":return{validator:function(e,n,r){return function(e,t,n,r){axios.post("".concat(r,"/lambda/check"),{value:t}).then((function(e){e.data.status?n():n(new Error("'".concat(t," Давхацсан утга оруулсан байна!'")))}))}(0,n,r,t)},trigger:"blur"};case"englishAlphabet":return{validator:c,trigger:"blur",message:e.msg};case"mongolianCyrillic":return{validator:d,trigger:"blur"};case"check_current_password":return{validator:function(e,n,r){return function(e,t,n,r){axios.post("".concat(r,"/lambda/krud/check_current_password"),{password:t}).then((function(e){e.data.status?n():n(new Error(e.data.msg))}))}(0,n,r,t)},trigger:"blur"};case"register":return{validator:m,trigger:"blur"};default:return null}}},20746:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{BS:()=>d,x4:()=>l});var a=/\{ *([\w_-]+) *\}/g,s=null;function l(e,t,n,r,o,i){if(e.length>=1){var a=e.findIndex((function(e){return e.model==t}));a<=-1?e.map((function(e){e.template.includes(t)&&c(e,t,n,r,o,i)})):c(e[a],t,n,r,o,i)}}function c(e,t,n,r,o,i){var s,l,c=!1;if(e.form&&("main"==e.form||i&&e.form==i)&&(c=!0),c){var d=(s=e.template,l=n,s.replace(a,(function(e,t){var n=l[t];return void 0===n?"":("function"==typeof n&&(n=n(l)),n)})));if(d){var u=new Function("return "+d)();e.targets.map((function(e){var t=m(r,e.field);t>=0&&("value"==e.prop?n[e.field]=u:("hidden"==e.prop&&o&&o[e.field]&&o[e.field].length>0&&o[e.field][0].hasOwnProperty("required")&&(o[e.field][0].required=!u),Vue.set(r[t],e.prop,u)))}))}}}function d(e,t,n,r,i,a,l){if(t){var c=m(r,e);c>=0&&r[c].trigger&&(s&&clearTimeout(s),s=setTimeout((function(){!function(e,t,n,r,i,a){e.split(",").forEach((function(e){axios.post(e,{model:o({},t),editMode:a}).then((function(e){var o=e.data;o.schema&&o.schema.forEach((function(e){u(e,t,n,r)})),o.schema_sub&&o.schema_sub.forEach((function(e){e.schema.forEach((function(o){u(o,t,n,r,e.model)}))})),o.message&&("success"==o.message.type?i.success({duration:3,desc:o.message.message}):i.error({duration:3,desc:o.message.message})),o.info&&o.info.forEach((function(e){document.getElementById(e.target).innerHTML=e.html}))}))}))}(r[c].trigger,n,r,i,a,l)}),null!=r[c].triggerTimeout&&null!==r[c].triggerTimeout&&""!=r[c].triggerTimeout?r[c].triggerTimeout:0))}}function u(e,t,n,r,o){if(o){var i=m(n,o);if(i>=0){var a=m(n[i].schema,e.field);a>=0&&Object.keys(e.props).forEach((function(t){n[i].schema[a][t]=e.props[t]}))}}else{var s=m(n,e.field);if(s>=0){if("value"in e)Vue.set(t,e.field,e.value),"SubForm"==n[s].formType&&r["sf".concat(e.field)][0].fillData();e.props&&Object.keys(e.props).forEach((function(t){Vue.set(n[s],t,e.props[t])}))}}}function m(e,t){return e.findIndex((function(e){return e.model==t}))}},23747:(e,t,n)=>{"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Sh:()=>a,ZD:()=>i,gN:()=>s});var i=function(e,t){var n=t.removedIndex,o=t.addedIndex,i=t.payload;if(null===n&&null===o)return e;var a=r(e),s=i;return null!==n&&(s=a.splice(n,1)[0]),null!==o&&a.splice(o,0,s),a},a=function(e){return e&&window.init.dbSchema.tableMeta[e]?window.init.dbSchema.tableMeta[e]:[]},s=function(e,t){return""==e.relation.filter||void 0===e.relation.filter?t[e.relation.table]?t[e.relation.table].data:e.relation.filterWithUser&&t[e.model]?t[e.model].data:[]:t[e.model]?t[e.model].data:[]}},62356:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{GY:()=>evalstr,JY:()=>isValid,Ul:()=>idGenerator});var idGenerator=function(e){var t=Math.random().toString(36).substr(3,9);return"".concat(e,"-").concat(t)},evalstr=function evalstr(str){return void 0===str||null==str||""==str||eval(str.toString())},isValid=function(e){return void 0!==e&&null!=e&&""!=e}},40945:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});const r={props:["step","currentStep","editIndex","onSuccess","onError"]};var o=n(51900);const i=(0,o.Z)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"step-form"},[t("div",{staticClass:"step-form-header"},[t("Steps",{attrs:{current:0,size:"small"}},e._l(e.step.list,(function(e){return t("Step",{key:e.id,attrs:{title:e.name}})})),1)],1),e._v(" "),e._l(e.step.list,(function(n,r){return r===e.currentStep?t("div",{key:n.id,staticClass:"step-form-body"},[t("dataform",{ref:"form",refInFor:!0,attrs:{schemaID:n.formId,do_render:e.currentStep,editMode:e.editIndex>=0,isSubForm:!0,onSuccess:e.onSuccess,step:!0,onError:e.onError}})],1):e._e()}))],2)}),[],!1,null,null,null).exports;var a=n(57786),s=n(82891),l=/\{ *([\w_-]+) *\}/g;var c=n(20746),d=n(62356),u=n(23747);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),s=new F(o||[]);return r(a,"_invoke",{value:x(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function f(){}function h(){}function p(){}var b={};l(b,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,i)&&(b=g);var _=p.prototype=f.prototype=Object.create(b);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,a,s){var l=d(e[r],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==m(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=M(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function M(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,M(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,r(_,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),l(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),l(_,s,"Generator"),l(_,i,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function b(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,s,"next",e)}function s(e){b(i,r,o,a,s,"throw",e)}a(void 0)}))}}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const S={mixins:[{name:"dataform",props:["projectID","schemaID","editMode","onReady","onSuccess","onError","onClose","beforeSubmit","permissions","user_condition","formCustomData","do_render","isSubForm","url","page_id","public","title","close","template","step"],data:function(){return{isIos:!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),formTitle:"",loadConfig:!0,viewMode:!1,asyncMode:!1,save_btn_text:"",formValidationCustomText:"",meta:{model:"",option:{}},model:{},schema:[],formType:"normal",ui:{},formula:[],rule:{},identity:null,dataID:null,relations:{},showInfo:!1,infoUrl:"",infoTitle:"",showID:window.init&&window.init.showID?window.init.showID:void 0,subFormValidations:[],extraButtons:[],disableReset:!1,withBackButton:!1,scrollOptions:{height:"100%"},currentStep:0,step:{}}},computed:{baseUrl:function(){return this.$props.url?this.$props.url:""},submitUrl:function(){return this.editMode?this.page_id?"".concat(this.baseUrl,"/lambda/krud/").concat(this.$props.schemaID,"/update/").concat(this.dataID,"?page_id=").concat(this.page_id):"".concat(this.baseUrl,"/lambda/krud/").concat(this.$props.schemaID,"/update/").concat(this.dataID):this.page_id?"".concat(this.baseUrl,"/lambda/krud/").concat(this.$props.schemaID,"/store?page_id=").concat(this.page_id):"".concat(this.baseUrl,"/lambda/krud").concat(this.optionUrl,"/").concat(this.$props.schemaID,"/store")},optionUrl:function(){return!0===this.public?"-public":""},lang:function(){var e=this,t=["save","pleaseWait","resetFrom","close","pleaseEnterPasswordYouUCurrentlyUsing","pleaseReEnterYourPassword","passwordConfirmError","informationIsIncomplete","trRMandatoryFieldsFillInformationLookFormAFillRequiredFieldsWithRedBorder","successfullySaved","errorSaving"];return t.reduce((function(n,r,o){return n[r]=e.$t("dataForm."+t[o]),n}),{})}},created:function(){window.showInformationModal=this.showInformationModal,this.schemaID&&this.initForm()},watch:{src:function(e,t){this.initForm()},editMode:function(e){e||this.handleReset(this.meta.model+"-"+this.schemaID)},do_render:function(e){e||(this.viewMode=!1,this.handleReset(this.meta.model+"-"+this.schemaID))},schemaID:function(e){e&&this.initForm()},ui:function(e){e&&this.dataID&&this.editModel(this.dataID)}},methods:{createWithTemplate:function(e){return t=e,n=this.model,t.replace(l,(function(e,t){var r=n[t];return void 0===r?"":("function"==typeof r&&(r=r(n)),r)}));var t,n},isVisibleSection:function(e){var t=this.showAbleFields(e.children);return"section"==e.type&&t?!e.visibleUserRoles||!t||(!Array.isArray(e.visibleUserRoles)||!t||(!(e.visibleUserRoles.length>=1&&window.init.user&&t)||!!(e.visibleUserRoles.findIndex((function(e){return e==window.init.user.role}))>=0&&t))):"col"==e.type&&e},showAbleFields:function(e){var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("form"==r.type||"Form"==r.type)return!!this.isShow(r.model);if("SubForm"==r.formType)return!0;if("row"==r.type){var o,i=!1,a=g(r.children);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.showAbleFields(s.children)&&(i=!0)}}catch(e){a.e(e)}finally{a.f()}return i}return r.hasOwnProperty("children")?!!this.showAbleFields(r.children):!!this.isShow(r.model)}}catch(e){n.e(e)}finally{n.f()}},element:a.bG,evalstr:d.GY,isValid:d.JY,isShow:function(e){var t=this.schema.findIndex((function(t){return t.model==e}));return!(t>=0)||!this.schema[t].hidden},afterChange:function(e,t,n){(0,c.BS)(e,t,this.model,this.schema,this.$refs,this.$Notice,this.editMode),this.do_render&&t!=n&&(0,c.x4)(this.formula,e,this.model,this.schema,this.rule,!1)},clearConfig:function(){this.model={},this.schema=[],this.ui={},this.formula=[],this.rule={},this.dataID=null},initFromServerData:function(e){var t=this;return y(v().mark((function n(){var r,o,i;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.baseUrl+"/lambda/puzzle/schema".concat(t.optionUrl,"/form/").concat(t.$props.schemaID),t.projectID&&(r=t.baseUrl+"/lambda/puzzle/project/".concat(t.projectID,"/form/").concat(t.$props.schemaID)),r+=0==e.length?"":"/".concat(e),n.prev=3,n.next=6,axios.get(r);case 6:return o=n.sent,(i=JSON.parse(o.data.data.schema)).form_id=o.data.data.id,i.form_name=o.data.data.name,n.abrupt("return",i);case 13:return n.prev=13,n.t0=n.catch(3),console.error(n.t0.message),n.abrupt("return",void 0);case 17:case"end":return n.stop()}}),n,null,[[3,13]])})))()},initForm:function(){var e=this;return y(v().mark((function t(){var n,r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],e.user_condition&&(n=JSON.stringify(e.user_condition)),r={},!window.init){t.next=19;break}if(!window.init.formSchemas){t.next=14;break}if(!window.init.formSchemas[e.$props.schemaID]){t.next=9;break}r=window.init.formSchemas[e.$props.schemaID],t.next=12;break;case 9:return t.next=11,e.initFromServerData(n);case 11:r=t.sent;case 12:t.next=17;break;case 14:return t.next=16,e.initFromServerData(n);case 16:r=t.sent;case 17:t.next=22;break;case 19:return t.next=21,e.initFromServerData(n);case 21:r=t.sent;case 22:e.identity=r.identity,e.schema=r.schema,e.formType=r.formType,r.step&&(e.step=r.step),e.ui=r.ui,r.save_btn_text&&(e.save_btn_text=r.save_btn_text),r.formValidationCustomText&&(e.formValidationCustomText=r.formValidationCustomText),r.formula&&(e.formula=r.formula),r.extraButtons&&(e.extraButtons=r.extraButtons),r.disableReset&&(e.disableReset=r.disableReset),r.withBackButton&&(e.withBackButton=r.withBackButton),e.formTitle=r.form_name,e.meta={model:r.model,option:{labelPosition:r.labelPosition,labelWidth:r.labelWidth}},e.getOptionsData(r.schema),e.setUiSchemaFormItem(r.ui.schema),e.setHiddenItemModel(r.schema),(0,s.j1)(r.model),e.setUserConditionValues(!0),e.setCustomData(),e.loadConfig=!1,e.$props.onReady&&e.$props.onReady(r,e.schema);case 43:case"end":return t.stop()}}),t)})))()},setHiddenItemModel:function(e){var t=this;e.forEach((function(e){if((e.hidden||e.disabled)&&(t.isValid(e.default)&&t.setModel(e.model,e.default,e.formType),e.hasUserId&&t.setModel(e.model,1*window.init.user.id,e.formType),null!==e.fillByUserField&&""!==e.fillByUserField&&void 0!==e.fillByUserField&&t.setModel(e.model,window.init.user[e.fillByUserField],e.formType),t.isValid(e.param)&&e.param in t.$route.params)){var n=t.$route.params[e.param];"null"!=n&&Vue.set(t.$data.model,e.model,n)}e.source_hidden=e.hidden,e.source_disabled=e.disabled}))},validatePassCheck:function(e,t,n,r){var o=n||"",i=this.model[e]?this.model[e]:"";""!==n||this.editMode?o!==i?r(new Error(this.lang.passwordConfirmError)):r():r(new Error(this.lang.pleaseReEnterYourPassword))},setUiSchemaFormItem:function(e){var t=this;e.forEach((function(e){if("form"==e.type){if(t.setModel(e.model,e.default,e.formType),t.$watch("model."+e.model,{handler:function(n,r){t.do_render&&n!==r&&t.afterChange(e.model,n,r)},deep:!0}),e.rules&&t.setRule(e.model,e.rules),"Password"==e.formType&&e.passwordOption&&(e.passwordOption.confirm&&(t.setModel("password_confirm","","password"),t.$data.rule.password_confirm=[{validator:function(n,r,o){return t.validatePassCheck(e.model,n,r,o)},trigger:"blur"}]),e.passwordOption.edit_with_old_password)){t.setModel("current_password","","password");var n=[];[{type:"required",msg:t.lang.pleaseEnterPasswordYouUCurrentlyUsing},{type:"check_current_password",msg:null}].forEach((function(e){var r=(0,s.pg)(e,t.url);n.push(r)})),t.$data.rule.current_password=n}}else"SubForm"==e.formType?(t.setModel(e.model,[],"SubForm"),e.checkEmpty&&t.subFormValidations.push({model:e.model,emptyErrorMsg:e.EmptyErrorMsg?e.EmptyErrorMsg:"".concat(e.name,"-д мэдээлэл бүртгэнэ үү")}),""!=e.trigger&&t.$watch("model."+e.model,{handler:function(n,r){t.do_render&&t.afterChange(e.model,n,r)},deep:!0})):_.isArray(e.children)&&t.setUiSchemaFormItem(e.children)}))},setModel:function(e,t,n){switch(n){case"Switch":var r=!1;"true"!=t&&1!=t||(r=!0),Vue.set(this.$data.model,e,r);break;case"Checkbox":var o=0;"true"!=t&&1!=t||(o=1),Vue.set(this.$data.model,e,o);break;case"CK":var i="";""!=t&&null!==t&&(i=t),Vue.set(this.$data.model,e,i);break;case"SubForm":Vue.set(this.$data.model,e,[]);break;case"Select":""==t||null===t?Vue.set(this.$data.model,e,null):isNaN(t)?Vue.set(this.$data.model,e,t):Vue.set(this.$data.model,e,1*t);break;case"Number":null!==t&&Vue.set(this.$data.model,e,1*t);break;case"ISelect":Vue.set(this.$data.model,e,t);default:Vue.set(this.$data.model,e,t)}},setRule:function(e,t){var n=this;this.$data.rule[e]=[],t.forEach((function(t){var r=(0,s.pg)(t,n.url);n.$data.rule[e].push(r)}))},setMeta:function(e,t){var n=this.schema.findIndex((function(t){return t.model==e.model})),r=n>=0?this.schema[n]:e;return t||(delete r.table,delete r.extra,r.schemaID=this.$props.schemaID),r},setDataManually:function(e,t){this.model[e]=t},getSchemaByModel:function(e){var t=this.schema.findIndex((function(t){return t.model==e}));return t>=0?this.schema[t]:null},getSchemaRelationByModel:function(e){var t=this.schema.findIndex((function(t){return t.model==e}));return t>=0?(0,u.gN)(this.schema[t],this.relations):null},setSchemaByModel:function(e,t,n,r){if("value"==t)Vue.set(this.$data.model,e,n);else if("sub-value"==t)Vue.set(this.$data.model,e,n),this.subFormFillData(e);else{var o=this.schema.findIndex((function(t){return t.model==e}));if(o>=0)if(void 0!==r){if("SubForm"==this.schema[o].formType){var i=this.schema[o].schema.findIndex((function(e){return e.model==r}));i>=0&&Vue.set(this.schema[o].schema[i],t,n)}}else Vue.set(this.schema[o],t,n)}},getSubFormData:function(e){var t=[];this.model[e].forEach((function(e){t.push(e.data)}))},closeForm:function(){"modal"===this.template&&this.$modal.hide("krud-modal"),"window"===this.template&&this.$router.push({path:this.$route.path,query:{window:"list"}}),this.onClose&&this.onClose()},handleSubmit:function(e){var t=this;this.setIdentityManual(),_.isEmpty(this.$data.rule)?this.subFormValidations.length>=1?this.validateWithSubForm():this.postData():this.$refs[e].validate((function(e){e?t.subFormValidations.length>=1?t.validateWithSubForm():t.postData():t.$Notice.error({title:t.lang.informationIsIncomplete,desc:""!=t.formValidationCustomText?t.formValidationCustomText:t.lang.trRMandatoryFieldsFillInformationLookFormAFillRequiredFieldsWithRedBorder,duration:0})}))},validateWithSubForm:function(){var e=this,t=!0;this.subFormValidations.forEach((function(n){var r=_.isArray(e.model[n.model]);(void 0===e.model[n.model]||null===e.model[n.model]||r)&&(r?0==e.model[n.model].length&&(e.$Notice.error({title:e.lang.informationIsIncomplete,desc:n.emptyErrorMsg,duration:0}),t=!1):(e.$Notice.error({title:e.lang.informationIsIncomplete,desc:n.emptyErrorMsg,duration:0}),t=!1))})),t&&this.postData()},postData:function(){var e=this;this.beforeSubmit&&this.$props.beforeSubmit(),this.isSubForm?this.$props.onSuccess(this.$data.model):(this.asyncMode=!0,axios.post(this.submitUrl,this.$data.model).then((function(t){var n=t.data;n.status?(e.$Notice.success({title:e.lang.successfullySaved}),e.editMode?e.$props.onSuccess&&e.$props.onSuccess(n.data):(e.$data.model[e.identity]=n[e.identity],e.$props.onSuccess&&e.$props.onSuccess(n.data),e.handleReset(e.meta.model+"-"+e.schemaID)),"modal"===e.template&&e.$modal.hide("krud-modal")):(e.$Notice.error({title:e.lang.errorSaving}),e.$props.onError&&e.$props.onError()),e.asyncMode=!1})).catch((function(t){var n="";t.response?(t.response.data.hasOwnProperty("error")&&("string"==typeof t.response.data.error||t.response.data.error instanceof String?n=t.response.data.error:t.response.data.error instanceof Object&&Object.keys(t.response.data.error).forEach((function(e){var r=e+": "+t.response.data.error[e].map((function(e){return e+" "}));n=""!=n?n+"<br/>"+r:r}))),e.$Notice.error({title:e.lang.errorSaving,duration:3,desc:n})):e.$Notice.error({title:e.lang.errorSaving,duration:3,desc:t}),e.asyncMode=!1,e.$props.onError&&e.$props.onError()})))},handleReset:function(e){var t=this;this.model={},this.$refs[e].resetFields(),(0,s.i)(this.identity,null),this.schema.forEach((function(e){"SubForm"==e.formType&&void 0!==t.$refs["sf".concat(e.model)]&&t.$refs["sf".concat(e.model)][0].reset(),t.setModel(e.model,e.default,e.formType),e.hidden=e.source_hidden,e.disabled=e.source_disabled})),this.setHiddenItemModel(this.schema),this.setCustomData()},setIdentityManual:function(){(0,s.i)(this.identity,this.model[this.identity])},setUserConditionValues:function(e){var t=this;this.user_condition&&this.user_condition.forEach((function(n){var r=t.getSchemaByModel(n.form_field);r&&(""!=r.default&&null!==r.default&&0!=r.default||e)&&(""!=t.model[r.model]&&null!==t.model[r.model]&&0!=t.model[r.model]||(e?(t.model[r.model]=window.init.user[n.user_field],r.default=window.init.user[n.user_field]):t.setModel(r.model,r.default,r.formType)))}))},setCustomData:function(){var e=this;this.formCustomData&&Object.keys(this.formCustomData).forEach((function(t){var n=e.schema.findIndex((function(e){return e.model==t}));n>=0&&(Vue.set(e.schema[n],"disabled",!0),Vue.set(e.schema[n],"default",e.formCustomData[t]),Vue.set(e.$data.model,t,e.formCustomData[t]))}))},editModel:function(e,t){var n=this;t?(this.model=h(h({},this.model),t),this.ui&&this.ui.hasOwnProperty("schema")&&(this.setEditModel(this.ui.schema),this.setUserConditionValues(!1),this.setCustomData())):(this.dataID=e,(0,s.i)(this.identity,e),axios.post(this.page_id?"".concat(this.baseUrl,"/lambda/krud/").concat(this.$props.schemaID,"/edit/").concat(e,"?page_id=").concat(this.page_id):"".concat(this.baseUrl,"/lambda/krud/").concat(this.$props.schemaID,"/edit/").concat(e)).then((function(e){var t=e.data;t.status&&(n.model=h(h({},n.model),t.data),n.ui&&n.ui.hasOwnProperty("schema")&&n.setEditModel(n.ui.schema),n.setUserConditionValues(!1),n.setCustomData())})))},setHiddenValues:function(e){var t=this;e.map((function(e){t.model[e.key]=e.val}))},subFormFillData:function(e){var t=this;this.$refs["sf".concat(e)]&&this.$refs["sf".concat(e)].length>=1?this.$refs["sf".concat(e)][0].fillData():setTimeout((function(){t.subFormFillData(e)}),100)},setEditModel:function(e){var t=this;e.forEach((function(e){if("form"==e.type||"Form"==e.type||"SubForm"==e.formType)switch(e.formType){case"SubForm":t.subFormFillData(e.model);break;case"Switch":1==t.model[e.model]||"true"==t.model[e.model]?t.model[e.model]=!0:t.model[e.model]=!1;break;case"Password":case"PasswordGenerate":t.model[e.model]="",delete t.$data.rule[e.model]}else _.isArray(e.children)&&t.setEditModel(e.children)}))},cloneModel:function(e){var t=this;axios.post("/lambda/krud/".concat(this.$props.schemaID,"/edit/").concat(e)).then((function(e){var n=e.data;n.status&&(t.model=h(h({},t.model),n.data),delete t.model[t.identity],t.setEditModel(t.ui.schema),t.setUserConditionValues(!1),t.setCustomData())}))},getOptionsByRelations:function(e,t){var n=this;Object.keys(t).length>=1&&axios.post("".concat(e,"/lambda/puzzle/get_options").concat(this.optionUrl),{relations:t}).then((function(e){var t=e.data;Object.keys(t).map((function(e){var r=h(h({},n.relations[e]),{},{data:t[e]});Vue.set(n.$data.relations,e,r)}))}))},getOptionsData:function(e){var t=this;this.relations=this.getSelects(e,void 0),window.init.microserviceSettings&&window.init.microserviceSettings.length>=1?window.init.microserviceSettings.forEach((function(n){var r=t.getSelects(e,n.project_id);t.getOptionsByRelations(n.production_url,r)})):this.getOptionsByRelations("",this.relations)},getSelectItem:function(e,t){if(e.relation.filterWithUser){if(e.relation.filterWithUser&&e.relation.filterWithUser.constructor===Array){var n="";e.relation.filterWithUser.forEach((function(e){var t="".concat(e.tableField," = '").concat(window.init.user[e.userField],"'");n=""==n?t:n+" AND "+t})),""==e.relation.filter||void 0===e.relation.filter?(e.relation.filter=n,this.setSchemaByModel(e.model,"relation",e.relation)):e.relation.filter="(".concat(e.relation.filter,") AND (").concat(n,")")}else{var r="".concat(e.relation.filterWithUser.tableField," = '").concat(window.init.user[e.relation.filterWithUser.userField],"'");""==e.relation.filter||void 0===e.relation.filter?e.relation.filter=r:e.relation.filter=e.relation.filter+" AND "+r}e.relation.filterWithUser=void 0}return""==e.relation.filter||void 0===e.relation.filter?t[e.relation.table]=e.relation:t[e.model]=e.relation,t},getSelects:function(e,t){var n=this,r={};return e.map((function(e){if("Radio"!=e.formType&&"Select"!=e.formType&&"ISelect"!=e.formType&&"TreeSelect"!=e.formType||e.relation.table&&void 0===r[e.relation.table]&&(void 0!==t?e.relation.microservice_id==t&&(r=n.getSelectItem(e,r)):r=n.getSelectItem(e,r)),"AdminMenu"==e.formType&&e.relation.table&&(r[e.relation.table]=e.relation),"SubForm"==e.formType&&e.schema){var o=n.getSelects(e.schema,t);o&&(r=h(h({},r),o))}})),console.log("selects: ",r),r},showInformationModal:function(e,t){this.infoTitle=t,this.infoUrl=e,this.showInfo=!0},getRelation:function(e){var t=this.schema.findIndex((function(t){return t.model==e.model})),n=t>=0?this.schema[t]:e;return(0,u.gN)(n,this.relations)},getFooterButtons:function(){var e=[];return this.schema.forEach((function(t){"FooterButton"==t.formType&&e.push(h({},t))})),e},setAndSend:function(e,t){var n=this,r=this.meta.model+"-"+this.schemaID;this.setIdentityManual(),_.isEmpty(this.$data.rule)?this.subFormValidations.length>=1?this.validateWithSubForm():(this.asyncMode=!0,Vue.set(this.$data.model,e,t),this.postData()):this.$refs[r].validate((function(r){r?n.subFormValidations.length>=1?n.validateWithSubForm():(n.asyncMode=!0,Vue.set(n.$data.model,e,t),n.postData()):n.$Notice.error({title:n.lang.informationIsIncomplete,desc:""!=n.formValidationCustomText?n.formValidationCustomText:n.lang.trRMandatoryFieldsFillInformationLookFormAFillRequiredFieldsWithRedBorder,duration:0})}))},moveStep:function(e){this.currentStep=e},onStepSuccess:function(){},onStepError:function(){}}}],components:{StepForm:i}};const x=(0,o.Z)(S,(function(){var e=this,t=e._self._c;return t("div",{class:"".concat(e.template," ").concat(e.viewMode?"dataform view-mode":"dataform")},["step"===e.formType?t("div",{staticClass:"step-mode"},[e.loadConfig?t("Spin",{attrs:{fix:""}}):e._e(),e._v(" "),t("div",{staticClass:"dataform-header"},[t("h3",[e._v("\n                "+e._s(e.title?e.title:e.formTitle)+"\n                "),e.showID?t("b",[e.model[e.identity]?t("span",[e._v(": "+e._s(e.model[e.identity]))]):e._e()]):e._e()]),e._v(" "),"window"==e.template||"modal"==e.template?t("div",{staticClass:"dataform-header-actions"},[e.currentStep>0?t("a",{staticClass:"nav-btn",on:{click:function(t){return e.moveStep(e.currentStep-1)}}},[t("i",{staticClass:"ti-arrow-left"})]):e._e(),e._v(" "),e.currentStep<=e.step.list.length?t("a",{staticClass:"nav-btn",on:{click:function(t){return e.moveStep(e.currentStep+1)}}},[t("i",{staticClass:"ti-arrow-right"})]):e._e(),e._v(" "),t("Button",{staticClass:"save",attrs:{loading:e.asyncMode,type:"text"},on:{click:function(t){return e.handleSubmit(e.meta.model+"-"+e.schemaID)}}},[e.asyncMode?t("span",[e._v("\n                            "+e._s(e.lang.pleaseWait)+"\n                        ")]):t("span",[t("i",{staticClass:"ti-save"}),e._v("\n                            "+e._s("Хадгалах"!==e.save_btn_text&&""!=e.save_btn_text?e.save_btn_text:e.lang.save)+"\n                        ")])]),e._v(" "),t("a",{staticClass:"action-btn",attrs:{href:"javascript:void(0)"},on:{click:e.closeForm}},[t("i",{staticClass:"ti-close"})])],1):e._e()]),e._v(" "),t("step-form",{attrs:{step:e.step,"current-step":e.currentStep,"on-success":"onStepSuccess","on-error":"onStepError"}})],1):t("div",{staticClass:"single-mode"},[t("Form",{ref:e.meta.model+"-"+e.schemaID,attrs:{model:e.model,rules:e.rule,"label-position":e.meta.option.labelPosition,"label-width":"top"===e.meta.option.labelPosition?void 0:e.meta.option.labelWidth}},[t("div",{staticClass:"dataform-header"},[t("h3",[e._v(e._s(e.title?e.title:e.formTitle)),e.showID?t("b",[e.model[e.identity]?t("span",[e._v(": "+e._s(e.model[e.identity]))]):e._e()]):e._e()]),e._v(" "),"window"==e.template||"modal"==e.template?t("div",{staticClass:"dataform-header-actions"},[t("div",{staticClass:"action-wrapper"},[t("Button",{staticClass:"save",attrs:{loading:e.asyncMode,type:"text"},on:{click:function(t){return e.handleSubmit(e.meta.model+"-"+e.schemaID)}}},[e.asyncMode?t("span",[e._v("\n                            "+e._s(e.lang.pleaseWait)+"\n                        ")]):t("span",[t("i",{staticClass:"ti-save"}),e._v("\n                            "+e._s("Хадгалах"!==e.save_btn_text&&""!=e.save_btn_text?e.save_btn_text:e.lang.save)+"\n                        ")])])],1),e._v(" "),t("a",{staticClass:"action-btn",attrs:{href:"javascript:void(0)"},on:{click:e.closeForm}},[t("i",{staticClass:"ti-close"})])]):e._e()]),e._v(" "),t("div",{staticClass:"dataform-body"},[e.loadConfig?t("Spin",{attrs:{fix:""}}):t("div",e._l(e.ui.schema,(function(n){return t("Row",{key:n.index},[e._l(n.children,(function(r){return e.isVisibleSection(r)&&!n.sectionRenderByTab?t("Col",{key:r.index,attrs:{xs:r.span.xs,sm:r.span.sm,md:r.span.md,lg:r.span.lg}},[t("div",{class:""!==r.name&&null!==r.name&&void 0!==r.name?"fieldset":""},[""!=r.name?t("legend",[e._v(e._s(r.name))]):e._e(),e._v(" "),e._l(r.children,(function(n){return t("Row",{key:n.index},e._l(n.children,(function(n){return t("Col",{key:n.index,attrs:{id:n.id,xs:24,sm:24,md:n.span.md,lg:n.span.lg}},[n.name?t("Divider",{staticClass:"form-divider",attrs:{orientation:"left"}},[e._v(e._s(n.name)+"\n                                        ")]):e._e(),e._v(" "),e._l(n.children,(function(n){return t("span",{key:n.index},[e.isShow(n.model)&&"SubForm"==n.formType&&n.subtype?t(e.element("subform/".concat(n.subtype)),{key:n.model,ref:"sf"+n.model,refInFor:!0,tag:"component",attrs:{url:e.url,model:{form:e.model,component:n.model},form:e.setMeta(n,!0),formula:e.formula,relations:e.relations,asyncMode:e.asyncMode,editMode:e.editMode}}):e._e(),e._v(" "),e.isShow(n.model)&&"SubForm"!=n.formType?t(e.element(n.formType),{key:n.model,tag:"component",attrs:{do_render:e.do_render,asyncMode:e.asyncMode,editMode:e.editMode,model:{form:e.model,component:n.model},disabled:!!n.disabled&&n.disabled,label:n.label?n.label:"[".concat(n.model,"]"),rule:n.model,meta:e.setMeta(n),identity:e.identity,url:e.url,getSchemaByModel:e.getSchemaByModel,getSchemaRelationByModel:e.getSchemaRelationByModel,setSchemaByModel:e.setSchemaByModel,relation_data:e.getRelation(n)}}):e._e()],1)}))],2)})),1)}))],2)]):e._e()})),e._v(" "),n.sectionRenderByTab?t("Tabs",{attrs:{value:0}},e._l(n.children,(function(n){return e.isVisibleSection(n)?t("TabPane",{key:n.index,attrs:{label:n.name,name:n.index}},e._l(n.children,(function(n){return t("Row",{key:n.index},e._l(n.children,(function(n){return t("Col",{key:n.index,attrs:{id:n.id,xs:24,sm:24,md:n.span.md,lg:n.span.lg}},[n.name?t("Divider",{staticClass:"form-divider",attrs:{orientation:"left"}},[e._v(e._s(n.name)+"\n                                        ")]):e._e(),e._v(" "),e._l(n.children,(function(n){return t("span",{key:n.index},[e.isShow(n.model)&&"SubForm"==n.formType&&n.subtype?t(e.element("subform/".concat(n.subtype)),{ref:"sf"+n.model,refInFor:!0,tag:"component",attrs:{model:{form:e.model,component:n.model},form:e.setMeta(n,!0),formula:e.formula,url:e.url,relations:e.relations,asyncMode:e.asyncMode,editMode:e.editMode}}):e._e(),e._v(" "),e.isShow(n.model)&&"SubForm"!=n.formType?t(e.element(n.formType),{key:e.model,tag:"component",attrs:{do_render:e.do_render,asyncMode:e.asyncMode,editMode:e.editMode,model:{form:e.model,component:n.model},url:e.url,disabled:!!n.disabled&&n.disabled,label:n.label?n.label:"[".concat(n.model,"]"),rule:n.model,meta:e.setMeta(n),identity:e.identity,getSchemaByModel:e.getSchemaByModel,getSchemaRelationByModel:e.getSchemaRelationByModel,setSchemaByModel:e.setSchemaByModel,relation_data:e.getRelation(n)}}):e._e()],1)}))],2)})),1)})),1):e._e()})),1):e._e(),e._v(" "),e._l(n.children,(function(n){return"col"==n.type?t("Col",{key:n.index,attrs:{xs:n.span.xs,sm:n.span.sm,md:n.span.md,lg:n.span.lg}},[n.name?t("Divider",{staticClass:"form-divider",attrs:{orientation:"left"}},[e._v(e._s(n.name)+"\n                            ")]):e._e(),e._v(" "),e._l(n.children,(function(n){return t("span",{key:n.index},[e.isShow(n.model)&&"SubForm"==n.formType&&n.subtype?t(e.element("subform/".concat(n.subtype)),{key:n.model,ref:"sf"+n.model,refInFor:!0,tag:"component",attrs:{label:n.label?n.label:"[".concat(n.model,"]"),model:{form:e.model,component:n.model},form:e.setMeta(n,!0),relations:e.relations,asyncMode:e.asyncMode,formula:e.formula,schemaID:e.schemaID,url:e.url,editMode:e.editMode}}):e._e(),e._v(" "),e.isShow(n.model)&&"SubForm"!=n.formType?t(e.element(n.formType),{key:n.model,tag:"component",attrs:{do_render:e.do_render,editMode:e.editMode,disabled:!!n.disabled&&n.disabled,model:{form:e.model,component:n.model},label:n.label?n.label:"[".concat(n.model,"]"),rule:n.model,meta:e.setMeta(n),identity:e.identity,asyncMode:e.asyncMode,getSchemaByModel:e.getSchemaByModel,getSchemaRelationByModel:e.getSchemaRelationByModel,setSchemaByModel:e.setSchemaByModel,relation_data:e.getRelation(n)}}):e._e()],1)}))],2):e._e()}))],2)})),1)],1),e._v(" "),e.viewMode||"window"===e.template||"modal"===e.template?e._e():t("div",{staticClass:"dataform-footer"},[e.withBackButton?t("Button",{staticStyle:{"margin-right":"8px"},on:{click:e.close}},[e._v("\n                    Буцах\n                ")]):e._e(),e._v(" "),e._l(e.extraButtons,(function(n){return t("Button",{key:n.index,style:e.editMode?"margin-right: 8px; color:".concat(n.color,"; border-color:").concat(n.color):"margin-right: 8px;",attrs:{disabled:!e.editMode,to:e.createWithTemplate(n.url),target:"_blank"}},[t("i",{class:n.icon,style:e.editMode?"color:".concat(n.color):""}),e._v("\n                    "+e._s(n.title)+"\n                ")])})),e._v(" "),t("Button",{attrs:{type:"info",loading:e.asyncMode},on:{click:function(t){return e.handleSubmit(e.meta.model+"-"+e.schemaID)}}},[e.asyncMode?t("span",[e._v("\n                    "+e._s(e.lang.pleaseWait)+"\n                ")]):t("span",[e._v("\n                    "+e._s("Хадгалах"!==e.save_btn_text&&""!=e.save_btn_text?e.save_btn_text:e.lang.save)+"\n                ")])]),e._v(" "),e.editMode||e.disableReset?e._e():t("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset(e.meta.model+"-"+e.schemaID)}}},[e._v("\n                    "+e._s(e.lang.resetFrom)+"\n                ")]),e._v(" "),e._l(e.getFooterButtons(),(function(n){return t("span",{staticClass:"extra-buttons"},e._l(n.options,(function(r){return t("Button",{key:n.inex,attrs:{type:"info",loading:e.asyncMode},on:{click:function(t){return e.setAndSend(n.model,r.value)}}},[e._v("\n                 "+e._s(r.label)+"\n                ")])})),1)}))],2)])],1),e._v(" "),t("Drawer",{staticClass:"info-modal",attrs:{title:e.infoTitle,width:"860px"},model:{value:e.showInfo,callback:function(t){e.showInfo=t},expression:"showInfo"}},[t("iframe",{attrs:{src:e.infoUrl,frameborder:"0"}}),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.showInfo=!1}}},[e._v("\n                "+e._s(e.lang.close)+"\n            ")])],1)])],1)}),[],!1,null,null,null).exports},51900:(e,t,n)=>{"use strict";function r(e,t,n,r,o,i,a,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}n.d(t,{Z:()=>r})}}]);