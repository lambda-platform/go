"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9312],{59312:(a,t,s)=>{s.r(t),s.d(t,{default:()=>i});var e=s(2543),n=s.n(e);const l={name:"translation",data:()=>({loadingGenerate:!1,locales:[],translation:[],searchTranslation:[]}),created(){this.getLocales(),this.getTranslation()},methods:{getLocales(){axios.get("/lambda/locale/languages").then((({data:a})=>{this.locales=a}))},getTranslation(){axios.get("/lambda/locale/translation").then((({data:a})=>{this.translation=a,this.searchTranslation=n().cloneDeep(a)}))},generateLocale(){this.loadingGenerate=!0,axios.get("/lambda/locale/generate").then((({data:a})=>{a.status?this.$Message.success(a.msg):this.$Message.error(a.msg),this.loadingGenerate=!1}))},searchLocale(a){this.translation=n().cloneDeep(this.searchTranslation),this.translation.forEach((t=>{t.translation=t.translation.filter((t=>t.key.toLowerCase().startsWith(a.toLowerCase())))}))},addTranslation(a){let t={component_id:a.id,key:""};axios.post("/lambda/locale/add",t).then((({data:t})=>{t.status&&a.translation.push(t.tr)}))},updateTranslation(a){axios.post("/lambda/locale/update",a).then((({data:a})=>{}))},deleteTranslation(a,t){axios.get(`/lambda/locale/delete/${t}`).then((({data:s})=>{s.status?(a.translation=a.translation.filter((a=>a.id!==t)),a.searchTranslation=a.searchTranslation.filter((a=>a.id!==t)),this.$Message.success(s.msg)):this.$Message.error(s.msg)}))}}};const i=(0,s(14486).A)(l,(function(){var a=this,t=a._self._c;return t("div",{staticClass:"page-locale-sub"},[t("div",{staticClass:"translation-page"},[t("div",{staticClass:"translation-page-header"},[t("div",{staticClass:"translation-page-header-left"},[t("h3",[a._v("Орчуулга ")]),a._v(" "),t("div",{staticClass:"search-wrap"},[t("Input",{attrs:{type:"search",placeholder:"Түлхүүр үгээр хайх...",suffix:"ios-search"},on:{input:a.searchLocale}})],1)]),a._v(" "),t("div",{staticClass:"translation-action"},[t("Button",{attrs:{type:"primary",loading:a.loadingGenerate},on:{click:a.generateLocale}},[a.loadingGenerate?a._e():t("i",{staticClass:"ti-exchange-vertical"}),a._v(" "),t("span",[a._v("Орчуулгын файл шинээр үүсгэх")])])],1)]),a._v(" "),t("div",{staticClass:"translation-page-body"},a._l(a.translation,(function(s){return t("div",{key:s.id,staticClass:"c-group"},[t("div",{staticClass:"c-group-header"},[t("h3",[a._v(a._s(s.title)+" - "+a._s(s.code))])]),a._v(" "),t("div",{staticClass:"c-group-body"},[t("table",{staticClass:"t-table"},[t("tbody",a._l(s.translation,(function(e){return t("tr",{key:e.id},[t("td",[t("Input",{attrs:{size:"small",placeholder:"Түлхүүр"},on:{"on-blur":function(t){return a.updateTranslation(e)}},model:{value:e.key,callback:function(t){a.$set(e,"key",t)},expression:"t.key"}})],1),a._v(" "),a._l(a.locales,(function(s){return t("td",{key:s.id},[t("Input",{attrs:{size:"small",placeholder:s.code},on:{"on-blur":function(t){return a.updateTranslation(e)}},model:{value:e[s.code],callback:function(t){a.$set(e,s.code,t)},expression:"t[l.code]"}})],1)})),a._v(" "),t("td",[t("div",{staticClass:"t-action"},[t("Poptip",{attrs:{confirm:"",placement:"left",title:"Орчуулгыг устгах уу","ok-text":"Тийм"},on:{"on-ok":function(t){return a.deleteTranslation(s,e.id)}}},[t("a",{staticClass:"delete-tr",attrs:{href:"javascript:void(0)"}},[t("i",{staticClass:"ti-trash"}),a._v(" "),t("span",[a._v("Устгах")])])])],1)])],2)})),0)])]),a._v(" "),t("div",{staticClass:"c-group-footer"},[t("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return a.addTranslation(s)}}},[t("i",{staticClass:"ti-plus"}),a._v(" "),t("span",[a._v("Орчуулга нэмэх")])])])])})),0)])])}),[],!1,null,"71f9847c",null).exports}}]);