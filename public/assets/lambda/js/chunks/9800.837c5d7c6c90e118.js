"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9800],{99800:(t,a,n)=>{n.r(a),n.d(a,{default:()=>o});var e=n(2543),s=n.n(e);const i={name:"translation",data:function(){return{loadingGenerate:!1,locales:[],translation:[],searchTranslation:[]}},created:function(){this.getLocales(),this.getTranslation()},methods:{getLocales:function(){var t=this;axios.get("/lambda/locale/languages").then((function(a){var n=a.data;t.locales=n}))},getTranslation:function(){var t=this;axios.get("/lambda/locale/translation").then((function(a){var n=a.data;t.translation=n,t.searchTranslation=s().cloneDeep(n)}))},generateLocale:function(){var t=this;this.loadingGenerate=!0,axios.get("/lambda/locale/generate").then((function(a){var n=a.data;n.status?t.$Message.success(n.msg):t.$Message.error(n.msg),t.loadingGenerate=!1}))},searchLocale:function(t){this.translation=s().cloneDeep(this.searchTranslation),this.translation.forEach((function(a){a.translation=a.translation.filter((function(a){return a.key.toLowerCase().startsWith(t.toLowerCase())}))}))},addTranslation:function(t){var a={component_id:t.id,key:""};axios.post("/lambda/locale/add",a).then((function(a){var n=a.data;n.status&&t.translation.push(n.tr)}))},updateTranslation:function(t){axios.post("/lambda/locale/update",t).then((function(t){t.data}))},deleteTranslation:function(t,a){var n=this;axios.get("/lambda/locale/delete/".concat(a)).then((function(e){var s=e.data;s.status?(t.translation=t.translation.filter((function(t){return t.id!==a})),t.searchTranslation=t.searchTranslation.filter((function(t){return t.id!==a})),n.$Message.success(s.msg)):n.$Message.error(s.msg)}))}}};const o=(0,n(14486).A)(i,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-locale-sub"},[a("div",{staticClass:"translation-page"},[a("div",{staticClass:"translation-page-header"},[a("div",{staticClass:"translation-page-header-left"},[a("h3",[t._v("Орчуулга ")]),t._v(" "),a("div",{staticClass:"search-wrap"},[a("Input",{attrs:{type:"search",placeholder:"Түлхүүр үгээр хайх...",suffix:"ios-search"},on:{input:t.searchLocale}})],1)]),t._v(" "),a("div",{staticClass:"translation-action"},[a("Button",{attrs:{type:"primary",loading:t.loadingGenerate},on:{click:t.generateLocale}},[t.loadingGenerate?t._e():a("i",{staticClass:"ti-exchange-vertical"}),t._v(" "),a("span",[t._v("Орчуулгын файл шинээр үүсгэх")])])],1)]),t._v(" "),a("div",{staticClass:"translation-page-body"},t._l(t.translation,(function(n){return a("div",{key:n.id,staticClass:"c-group"},[a("div",{staticClass:"c-group-header"},[a("h3",[t._v(t._s(n.title)+" - "+t._s(n.code))])]),t._v(" "),a("div",{staticClass:"c-group-body"},[a("table",{staticClass:"t-table"},[a("tbody",t._l(n.translation,(function(e){return a("tr",{key:e.id},[a("td",[a("Input",{attrs:{size:"small",placeholder:"Түлхүүр"},on:{"on-blur":function(a){return t.updateTranslation(e)}},model:{value:e.key,callback:function(a){t.$set(e,"key",a)},expression:"t.key"}})],1),t._v(" "),t._l(t.locales,(function(n){return a("td",{key:n.id},[a("Input",{attrs:{size:"small",placeholder:n.code},on:{"on-blur":function(a){return t.updateTranslation(e)}},model:{value:e[n.code],callback:function(a){t.$set(e,n.code,a)},expression:"t[l.code]"}})],1)})),t._v(" "),a("td",[a("div",{staticClass:"t-action"},[a("Poptip",{attrs:{confirm:"",placement:"left",title:"Орчуулгыг устгах уу","ok-text":"Тийм"},on:{"on-ok":function(a){return t.deleteTranslation(n,e.id)}}},[a("a",{staticClass:"delete-tr",attrs:{href:"javascript:void(0)"}},[a("i",{staticClass:"ti-trash"}),t._v(" "),a("span",[t._v("Устгах")])])])],1)])],2)})),0)])]),t._v(" "),a("div",{staticClass:"c-group-footer"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.addTranslation(n)}}},[a("i",{staticClass:"ti-plus"}),t._v(" "),a("span",[t._v("Орчуулга нэмэх")])])])])})),0)])])}),[],!1,null,"0d9c091a",null).exports}}]);